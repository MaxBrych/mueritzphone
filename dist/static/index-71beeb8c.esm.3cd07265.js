import{_ as Ms,S as Ls,r as v,B as Os,d as bi,j as d,a as C,b as J,c as xi,R as De,e as D,n as Un,p as L,f as Ce,s as Et,g as cn,h as Ar,i as me,k as Pi,l as Si,m as ks,o as wi,q as js,t as Bs,u as Fs,v as Ns,w as zs,x as Ci,y as Us,z as Ws,A as Hs,C as Gs,D as Ks,E as Xs,F as Ys,G as $e,H as de,I as Pn,J as $s,K as Zs,L as he,M as ye,N as qs,O as Sn,P as dt,Q as Js,T as Qs,U as Ti,V as ft,W as q,X as wn,Y as el,Z as un,$,a0 as tl,a1 as Y,a2 as W,a3 as nl,a4 as Ft,a5 as yt,a6 as It,a7 as Cn,a8 as Nt,a9 as Q,aa as rl,ab as ol,ac as il,ad as Ei,ae as Ii,af as zt,ag as al,ah as sl,ai as bt,aj as Ee,ak as Tn,al as ll,am as cl,an as ul,ao as dl,ap as fl,aq as pt,ar as _i,as as Vi,at as pl,au as Wn,av as Hn,aw as Ue,ax as hl,ay as vl,az as Rr,aA as ml,aB as gl,aC as yl,aD as _e,aE as Ai,aF as j,aG as F,aH as ve,aI as Gn,aJ as Kn,aK as Ri,aL as bl,aM as rt,aN as be,aO as xl,aP as xt,aQ as Xn,aR as oe,aS as Di,aT as ht,aU as Pl,aV as Ut,aW as Sl,aX as Mi,aY as wl,aZ as Cl,a_ as Tl,a$ as El,b0 as Ve,b1 as Pt,b2 as Il,b3 as Wt,b4 as _l,b5 as Li,b6 as Vl,b7 as Al,b8 as St,b9 as Rl,ba as Dl,bb as Yn,bc as En,bd as Oi,be as Ml,bf as Ll,bg as Ol,bh as kl,bi as jl,bj as Bl,bk as Fl,bl as Nl,bm as zl,bn as Be,bo as Le,bp as Je,bq as ki,br as Ht,bs as ji,bt as Re,bu as Ul,bv as $n,bw as Wl,bx as Hl,by as Bi,bz as Gl,bA as Fi,bB as In,bC as Kl,bD as Xl,bE as Yl,bF as Ni,bG as $l,bH as Zl,bI as zi,bJ as ql,bK as Jl,bL as Ui,bM as Zn,bN as Ql,bO as Wi,bP as ec,bQ as Dr,bR as tc,bS as qn,bT as nc,bU as dn,bV as rc,bW as oc,bX as ic,bY as Mr,bZ as ac,b_ as Hi,b$ as fn,c0 as sc,c1 as Lr,c2 as _n,c3 as Gi,c4 as lc,c5 as cc,c6 as uc,c7 as dc,c8 as fc,c9 as pc,ca as hc,cb as vc,cc as mc,cd as Ki,ce as Xi,cf as gc,cg as yc,ch as bc,ci as xc,cj as Pc,ck as Sc,cl as Jn,cm as wc,cn as Cc,co as Tc,cp as Vn,cq as Ec,cr as Ic,cs as _c,ct as Vc,cu as Ac,cv as Rc,cw as Dc,cx as Mc,cy as Lc,cz as Oc,cA as kc,cB as An,cC as Yi,cD as $i,cE as jc,cF as Bc,cG as Fc,cH as Nc,cI as zc,cJ as Zi,cK as Or,cL as Uc,cM as Wc,cN as pn,cO as kr,cP as Hc,cQ as jr,cR as Gc}from"./sanity.c38ca016.js";import{h as Kc,j as Xc}from"./index.f553bc31.js";function Yc(){return function(e){return e.lift(new $c)}}var $c=function(){function e(){}return e.prototype.call=function(t,n){return n.subscribe(new Zc(t))},e}(),Zc=function(e){Ms(t,e);function t(n){var r=e.call(this,n)||this;return r.hasPrev=!1,r}return t.prototype._next=function(n){var r;this.hasPrev?r=[this.prev,n]:this.hasPrev=!0,this.prev=n,r&&this.destination.next(r)},t}(Ls);function qc(e,t){var n=v.exports.useCallback(function(){var a=new Os(e),i=a.asObservable().pipe(bi());return[t?i.pipe(t):i,a]},[]),r=v.exports.useRef();r.current||(r.current=n());var o=r.current[0];v.exports.useEffect(function(){if(!!r.current){var a=r.current,i=a[1];i.next(e)}},[e,r]);var s=v.exports.useRef(!1);return v.exports.useEffect(function(){return s.current&&(r.current||(r.current=n()),s.current=!1),function(){if(!!r.current){s.current=!0;var a=r.current,i=a[1];i.complete(),r.current=void 0}}},[]),o}var Jc="production",qi=typeof process>"u"||process.env===void 0?Jc:"production",ge=function(e){return{isEnabled:function(t){return e.some(function(n){return!!t[n]})}}},vt={measureLayout:ge(["layout","layoutId","drag"]),animation:ge(["animate","exit","variants","whileHover","whileTap","whileFocus","whileDrag","whileInView"]),exit:ge(["exit"]),drag:ge(["drag","dragControls"]),focus:ge(["whileFocus"]),hover:ge(["whileHover","onHoverStart","onHoverEnd"]),tap:ge(["whileTap","onTap","onTapStart","onTapCancel"]),pan:ge(["onPan","onPanStart","onPanSessionStart","onPanEnd"]),inView:ge(["whileInView","onViewportEnter","onViewportLeave"])};function Qc(e){for(var t in e)e[t]!==null&&(t==="projectionNodeConstructor"?vt.projectionNodeConstructor=e[t]:vt[t].Component=e[t])}var Ji=v.exports.createContext({strict:!1}),Qi=Object.keys(vt),eu=Qi.length;function tu(e,t,n){var r=[],o=v.exports.useContext(Ji);if(!t)return null;qi!=="production"&&n&&o.strict;for(var s=0;s<eu;s++){var a=Qi[s],i=vt[a],l=i.isEnabled,c=i.Component;l(e)&&c&&r.push(d(c,{...C({key:a},e,{visualElement:t})}))}return r}var Qn=v.exports.createContext({transformPagePoint:function(e){return e},isStatic:!1,reducedMotion:"never"}),Gt=v.exports.createContext({});function nu(){return v.exports.useContext(Gt).visualElement}var Kt=v.exports.createContext(null),Qe=typeof document<"u",Br=Qe?v.exports.useLayoutEffect:v.exports.useEffect,Rn={current:null},ea=!1;function ru(){if(ea=!0,!!Qe)if(window.matchMedia){var e=window.matchMedia("(prefers-reduced-motion)"),t=function(){return Rn.current=e.matches};e.addListener(t),t()}else Rn.current=!1}function ou(){!ea&&ru();var e=J(v.exports.useState(Rn.current),1),t=e[0];return t}function iu(){var e=ou(),t=v.exports.useContext(Qn).reducedMotion;return t==="never"?!1:t==="always"?!0:e}function au(e,t,n,r){var o=v.exports.useContext(Ji),s=nu(),a=v.exports.useContext(Kt),i=iu(),l=v.exports.useRef(void 0);r||(r=o.renderer),!l.current&&r&&(l.current=r(e,{visualState:t,parent:s,props:n,presenceId:a==null?void 0:a.id,blockInitialAnimation:(a==null?void 0:a.initial)===!1,shouldReduceMotion:i}));var c=l.current;return Br(function(){c==null||c.syncRender()}),v.exports.useEffect(function(){var u;(u=c==null?void 0:c.animationState)===null||u===void 0||u.animateChanges()}),Br(function(){return function(){return c==null?void 0:c.notifyUnmount()}},[]),c}function Ke(e){return typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function su(e,t,n){return v.exports.useCallback(function(r){var o;r&&((o=e.mount)===null||o===void 0||o.call(e,r)),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):Ke(n)&&(n.current=r))},[t])}function ta(e){return Array.isArray(e)}function fe(e){return typeof e=="string"||ta(e)}function lu(e){var t={};return e.forEachValue(function(n,r){return t[r]=n.get()}),t}function cu(e){var t={};return e.forEachValue(function(n,r){return t[r]=n.getVelocity()}),t}function na(e,t,n,r,o){var s;return r===void 0&&(r={}),o===void 0&&(o={}),typeof t=="function"&&(t=t(n!=null?n:e.custom,r,o)),typeof t=="string"&&(t=(s=e.variants)===null||s===void 0?void 0:s[t]),typeof t=="function"&&(t=t(n!=null?n:e.custom,r,o)),t}function Xt(e,t,n){var r=e.getProps();return na(r,t,n!=null?n:r.custom,lu(e),cu(e))}function Yt(e){var t;return typeof((t=e.animate)===null||t===void 0?void 0:t.start)=="function"||fe(e.initial)||fe(e.animate)||fe(e.whileHover)||fe(e.whileDrag)||fe(e.whileTap)||fe(e.whileFocus)||fe(e.exit)}function ra(e){return Boolean(Yt(e)||e.variants)}function uu(e,t){if(Yt(e)){var n=e.initial,r=e.animate;return{initial:n===!1||fe(n)?n:void 0,animate:fe(r)?r:void 0}}return e.inherit!==!1?t:{}}function du(e){var t=uu(e,v.exports.useContext(Gt)),n=t.initial,r=t.animate;return v.exports.useMemo(function(){return{initial:n,animate:r}},[Fr(n),Fr(r)])}function Fr(e){return Array.isArray(e)?e.join(" "):e}function $t(e){var t=v.exports.useRef(null);return t.current===null&&(t.current=e()),t.current}var at={hasAnimatedSinceResize:!0,hasEverUpdated:!1},fu=1;function pu(){return $t(function(){if(at.hasEverUpdated)return fu++})}var oa=v.exports.createContext({}),ia=v.exports.createContext({});function hu(e,t,n,r){var o,s=t.layoutId,a=t.layout,i=t.drag,l=t.dragConstraints,c=t.layoutScroll,u=v.exports.useContext(ia);!r||!n||(n==null?void 0:n.projection)||(n.projection=new r(e,n.getLatestValues(),(o=n.parent)===null||o===void 0?void 0:o.projection),n.projection.setOptions({layoutId:s,layout:a,alwaysMeasureLayout:Boolean(i)||l&&Ke(l),visualElement:n,scheduleRender:function(){return n.scheduleRender()},animationType:typeof a=="string"?a:"both",initialPromotionConfig:u,layoutScroll:c}))}var vu=function(e){xi(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.getSnapshotBeforeUpdate=function(){return this.updateProps(),null},t.prototype.componentDidUpdate=function(){},t.prototype.updateProps=function(){var n=this.props,r=n.visualElement,o=n.props;r&&r.setProps(o)},t.prototype.render=function(){return this.props.children},t}(De.Component);function mu(e){var t=e.preloadedFeatures,n=e.createVisualElement,r=e.projectionNodeConstructor,o=e.useRender,s=e.useVisualState,a=e.Component;t&&Qc(t);function i(l,c){var u=gu(l);l=C(C({},l),{layoutId:u});var f=v.exports.useContext(Qn),p=null,h=du(l),m=f.isStatic?void 0:pu(),g=s(l,f.isStatic);return!f.isStatic&&Qe&&(h.visualElement=au(a,g,C(C({},f),l),n),hu(m,l,h.visualElement,r||vt.projectionNodeConstructor),p=tu(l,h.visualElement,t)),D(vu,{visualElement:h.visualElement,props:C(C({},f),l),children:[p,d(Gt.Provider,{value:h,children:o(a,l,m,su(g,h.visualElement,c),g,f.isStatic,h.visualElement)})]})}return v.exports.forwardRef(i)}function gu(e){var t,n=e.layoutId,r=(t=v.exports.useContext(oa))===null||t===void 0?void 0:t.id;return r&&n!==void 0?r+"-"+n:n}function yu(e){function t(r,o){return o===void 0&&(o={}),mu(e(r,o))}if(typeof Proxy>"u")return t;var n=new Map;return new Proxy(t,{get:function(r,o){return n.has(o)||n.set(o,t(o)),n.get(o)}})}var bu=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","svg","switch","symbol","text","tspan","use","view"];function er(e){return typeof e!="string"||e.includes("-")?!1:!!(bu.indexOf(e)>-1||/[A-Z]/.test(e))}var Mt={};function xu(e){Object.assign(Mt,e)}var Dn=["","X","Y","Z"],Pu=["translate","scale","rotate","skew"],mt=["transformPerspective","x","y","z"];Pu.forEach(function(e){return Dn.forEach(function(t){return mt.push(e+t)})});function Su(e,t){return mt.indexOf(e)-mt.indexOf(t)}var wu=new Set(mt);function wt(e){return wu.has(e)}var Cu=new Set(["originX","originY","originZ"]);function aa(e){return Cu.has(e)}function sa(e,t){var n=t.layout,r=t.layoutId;return wt(e)||aa(e)||(n||r!==void 0)&&(!!Mt[e]||e==="opacity")}var xe=function(e){return Boolean(e!==null&&typeof e=="object"&&e.getVelocity)},Tu={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"};function Eu(e,t,n,r){var o=e.transform,s=e.transformKeys,a=t.enableHardwareAcceleration,i=a===void 0?!0:a,l=t.allowTransformNone,c=l===void 0?!0:l,u="";s.sort(Su);for(var f=!1,p=s.length,h=0;h<p;h++){var m=s[h];u+="".concat(Tu[m]||m,"(").concat(o[m],") "),m==="z"&&(f=!0)}return!f&&i?u+="translateZ(0)":u=u.trim(),r?u=r(o,n?"":u):c&&n&&(u="none"),u}function Iu(e){var t=e.originX,n=t===void 0?"50%":t,r=e.originY,o=r===void 0?"50%":r,s=e.originZ,a=s===void 0?0:s;return"".concat(n," ").concat(o," ").concat(a)}function la(e){return e.startsWith("--")}var _u=function(e,t){return t&&typeof e=="number"?t.transform(e):e},Nr=C(C({},Un),{transform:Math.round}),ca={borderWidth:L,borderTopWidth:L,borderRightWidth:L,borderBottomWidth:L,borderLeftWidth:L,borderRadius:L,radius:L,borderTopLeftRadius:L,borderTopRightRadius:L,borderBottomRightRadius:L,borderBottomLeftRadius:L,width:L,maxWidth:L,height:L,maxHeight:L,size:L,top:L,right:L,bottom:L,left:L,padding:L,paddingTop:L,paddingRight:L,paddingBottom:L,paddingLeft:L,margin:L,marginTop:L,marginRight:L,marginBottom:L,marginLeft:L,rotate:Ce,rotateX:Ce,rotateY:Ce,rotateZ:Ce,scale:Et,scaleX:Et,scaleY:Et,scaleZ:Et,skew:Ce,skewX:Ce,skewY:Ce,distance:L,translateX:L,translateY:L,translateZ:L,x:L,y:L,z:L,perspective:L,transformPerspective:L,opacity:cn,originX:Ar,originY:Ar,originZ:L,zIndex:Nr,fillOpacity:cn,strokeOpacity:cn,numOctaves:Nr};function tr(e,t,n,r){var o,s=e.style,a=e.vars,i=e.transform,l=e.transformKeys,c=e.transformOrigin;l.length=0;var u=!1,f=!1,p=!0;for(var h in t){var m=t[h];if(la(h)){a[h]=m;continue}var g=ca[h],x=_u(m,g);if(wt(h)){if(u=!0,i[h]=x,l.push(h),!p)continue;m!==((o=g.default)!==null&&o!==void 0?o:0)&&(p=!1)}else aa(h)?(c[h]=x,f=!0):s[h]=x}u?s.transform=Eu(e,n,p,r):r?s.transform=r({},""):!t.transform&&s.transform&&(s.transform="none"),f&&(s.transformOrigin=Iu(c))}var nr=function(){return{style:{},transform:{},transformKeys:[],transformOrigin:{},vars:{}}};function ua(e,t,n){for(var r in t)!xe(t[r])&&!sa(r,n)&&(e[r]=t[r])}function Vu(e,t,n){var r=e.transformTemplate;return v.exports.useMemo(function(){var o=nr();tr(o,t,{enableHardwareAcceleration:!n},r);var s=o.vars,a=o.style;return C(C({},s),a)},[t])}function Au(e,t,n){var r=e.style||{},o={};return ua(o,r,e),Object.assign(o,Vu(e,t,n)),e.transformValues&&(o=e.transformValues(o)),o}function Ru(e,t,n){var r={},o=Au(e,t,n);return Boolean(e.drag)&&e.dragListener!==!1&&(r.draggable=!1,o.userSelect=o.WebkitUserSelect=o.WebkitTouchCallout="none",o.touchAction=e.drag===!0?"none":"pan-".concat(e.drag==="x"?"y":"x")),r.style=o,r}var Du=new Set(["initial","animate","exit","style","variants","transition","transformTemplate","transformValues","custom","inherit","layout","layoutId","layoutDependency","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","drag","dragControls","dragListener","dragConstraints","dragDirectionLock","dragSnapToOrigin","_dragX","_dragY","dragElastic","dragMomentum","dragPropagation","dragTransition","whileDrag","onPan","onPanStart","onPanEnd","onPanSessionStart","onTap","onTapStart","onTapCancel","onHoverStart","onHoverEnd","whileFocus","whileTap","whileHover","whileInView","onViewportEnter","onViewportLeave","viewport","layoutScroll"]);function Lt(e){return Du.has(e)}var da=function(e){return!Lt(e)};function Mu(e){!e||(da=function(t){return t.startsWith("on")?!Lt(t):e(t)})}try{Mu(require("@emotion/is-prop-valid").default)}catch{}function Lu(e,t,n){var r={};for(var o in e)(da(o)||n===!0&&Lt(o)||!t&&!Lt(o)||e.draggable&&o.startsWith("onDrag"))&&(r[o]=e[o]);return r}function zr(e,t,n){return typeof e=="string"?e:L.transform(t+n*e)}function Ou(e,t,n){var r=zr(t,e.x,e.width),o=zr(n,e.y,e.height);return"".concat(r," ").concat(o)}var ku={offset:"stroke-dashoffset",array:"stroke-dasharray"},ju={offset:"strokeDashoffset",array:"strokeDasharray"};function Bu(e,t,n,r,o){n===void 0&&(n=1),r===void 0&&(r=0),o===void 0&&(o=!0),e.pathLength=1;var s=o?ku:ju;e[s.offset]=L.transform(-r);var a=L.transform(t),i=L.transform(n);e[s.array]="".concat(a," ").concat(i)}function rr(e,t,n,r){var o=t.attrX,s=t.attrY,a=t.originX,i=t.originY,l=t.pathLength,c=t.pathSpacing,u=c===void 0?1:c,f=t.pathOffset,p=f===void 0?0:f,h=me(t,["attrX","attrY","originX","originY","pathLength","pathSpacing","pathOffset"]);tr(e,h,n,r),e.attrs=e.style,e.style={};var m=e.attrs,g=e.style,x=e.dimensions;m.transform&&(x&&(g.transform=m.transform),delete m.transform),x&&(a!==void 0||i!==void 0||g.transform)&&(g.transformOrigin=Ou(x,a!==void 0?a:.5,i!==void 0?i:.5)),o!==void 0&&(m.x=o),s!==void 0&&(m.y=s),l!==void 0&&Bu(m,l,u,p,!1)}var fa=function(){return C(C({},nr()),{attrs:{}})};function Fu(e,t){var n=v.exports.useMemo(function(){var o=fa();return rr(o,t,{enableHardwareAcceleration:!1},e.transformTemplate),C(C({},o.attrs),{style:C({},o.style)})},[t]);if(e.style){var r={};ua(r,e.style,e),n.style=C(C({},r),n.style)}return n}function Nu(e){e===void 0&&(e=!1);var t=function(n,r,o,s,a,i){var l=a.latestValues,c=er(n)?Fu:Ru,u=c(r,l,i),f=Lu(r,typeof n=="string",e),p=C(C(C({},f),u),{ref:s});return o&&(p["data-projection-id"]=o),v.exports.createElement(n,p)};return t}var zu=/([a-z])([A-Z])/g,Uu="$1-$2",pa=function(e){return e.replace(zu,Uu).toLowerCase()};function ha(e,t,n,r){var o=t.style,s=t.vars;Object.assign(e.style,o,r&&r.getProjectionStyles(n));for(var a in s)e.style.setProperty(a,s[a])}var va=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength"]);function ma(e,t,n,r){ha(e,t,void 0,r);for(var o in t.attrs)e.setAttribute(va.has(o)?o:pa(o),t.attrs[o])}function or(e){var t=e.style,n={};for(var r in t)(xe(t[r])||sa(r,e))&&(n[r]=t[r]);return n}function ga(e){var t=or(e);for(var n in e)if(xe(e[n])){var r=n==="x"||n==="y"?"attr"+n.toUpperCase():n;t[r]=e[n]}return t}function ir(e){return typeof e=="object"&&typeof e.start=="function"}var gt=function(e){return Array.isArray(e)},Wu=function(e){return Boolean(e&&typeof e=="object"&&e.mix&&e.toValue)},ya=function(e){return gt(e)?e[e.length-1]||0:e};function Rt(e){var t=xe(e)?e.get():e;return Wu(t)?t.toValue():t}function Ur(e,t,n,r){var o=e.scrapeMotionValuesFromProps,s=e.createRenderState,a=e.onMount,i={latestValues:Hu(t,n,r,o),renderState:s()};return a&&(i.mount=function(l){return a(t,l,i)}),i}var ba=function(e){return function(t,n){var r=v.exports.useContext(Gt),o=v.exports.useContext(Kt);return n?Ur(e,t,r,o):$t(function(){return Ur(e,t,r,o)})}};function Hu(e,t,n,r){var o={},s=(n==null?void 0:n.initial)===!1,a=r(e);for(var i in a)o[i]=Rt(a[i]);var l=e.initial,c=e.animate,u=Yt(e),f=ra(e);t&&f&&!u&&e.inherit!==!1&&(l!=null||(l=t.initial),c!=null||(c=t.animate));var p=s||l===!1,h=p?c:l;if(h&&typeof h!="boolean"&&!ir(h)){var m=Array.isArray(h)?h:[h];m.forEach(function(g){var x=na(e,g);if(!!x){var b=x.transitionEnd;x.transition;var y=me(x,["transitionEnd","transition"]);for(var P in y){var S=y[P];if(Array.isArray(S)){var w=p?S.length-1:0;S=S[w]}S!==null&&(o[P]=S)}for(var P in b)o[P]=b[P]}})}return o}var Gu={useVisualState:ba({scrapeMotionValuesFromProps:ga,createRenderState:fa,onMount:function(e,t,n){var r=n.renderState,o=n.latestValues;try{r.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{r.dimensions={x:0,y:0,width:0,height:0}}rr(r,o,{enableHardwareAcceleration:!1},e.transformTemplate),ma(t,r)}})},Ku={useVisualState:ba({scrapeMotionValuesFromProps:or,createRenderState:nr})};function Xu(e,t,n,r,o){var s=t.forwardMotionProps,a=s===void 0?!1:s,i=er(e)?Gu:Ku;return C(C({},i),{preloadedFeatures:n,useRender:Nu(a),createVisualElement:r,projectionNodeConstructor:o,Component:e})}var G;(function(e){e.Animate="animate",e.Hover="whileHover",e.Tap="whileTap",e.Drag="whileDrag",e.Focus="whileFocus",e.InView="whileInView",e.Exit="exit"})(G||(G={}));function Zt(e,t,n,r){return r===void 0&&(r={passive:!0}),e.addEventListener(t,n,r),function(){return e.removeEventListener(t,n)}}function Mn(e,t,n,r){v.exports.useEffect(function(){var o=e.current;if(n&&o)return Zt(o,t,n,r)},[e,t,n,r])}function Yu(e){var t=e.whileFocus,n=e.visualElement,r=function(){var s;(s=n.animationState)===null||s===void 0||s.setActive(G.Focus,!0)},o=function(){var s;(s=n.animationState)===null||s===void 0||s.setActive(G.Focus,!1)};Mn(n,"focus",t?r:void 0),Mn(n,"blur",t?o:void 0)}function xa(e){return typeof PointerEvent<"u"&&e instanceof PointerEvent?e.pointerType==="mouse":e instanceof MouseEvent}function Pa(e){var t=!!e.touches;return t}function $u(e){return function(t){var n=t instanceof MouseEvent,r=!n||n&&t.button===0;r&&e(t)}}var Zu={pageX:0,pageY:0};function qu(e,t){t===void 0&&(t="page");var n=e.touches[0]||e.changedTouches[0],r=n||Zu;return{x:r[t+"X"],y:r[t+"Y"]}}function Ju(e,t){return t===void 0&&(t="page"),{x:e[t+"X"],y:e[t+"Y"]}}function ar(e,t){return t===void 0&&(t="page"),{point:Pa(e)?qu(e,t):Ju(e,t)}}var Sa=function(e,t){t===void 0&&(t=!1);var n=function(r){return e(r,ar(r))};return t?$u(n):n},Qu=function(){return Qe&&window.onpointerdown===null},ed=function(){return Qe&&window.ontouchstart===null},td=function(){return Qe&&window.onmousedown===null},nd={pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointercancel:"mousecancel",pointerover:"mouseover",pointerout:"mouseout",pointerenter:"mouseenter",pointerleave:"mouseleave"},rd={pointerdown:"touchstart",pointermove:"touchmove",pointerup:"touchend",pointercancel:"touchcancel"};function wa(e){return Qu()?e:ed()?rd[e]:td()?nd[e]:e}function Ye(e,t,n,r){return Zt(e,wa(t),Sa(n,t==="pointerdown"),r)}function Ot(e,t,n,r){return Mn(e,wa(t),n&&Sa(n,t==="pointerdown"),r)}function Ca(e){var t=null;return function(){var n=function(){t=null};return t===null?(t=e,n):!1}}var Wr=Ca("dragHorizontal"),Hr=Ca("dragVertical");function Ta(e){var t=!1;if(e==="y")t=Hr();else if(e==="x")t=Wr();else{var n=Wr(),r=Hr();n&&r?t=function(){n(),r()}:(n&&n(),r&&r())}return t}function Ea(){var e=Ta(!0);return e?(e(),!1):!0}function Gr(e,t,n){return function(r,o){var s;!xa(r)||Ea()||((s=e.animationState)===null||s===void 0||s.setActive(G.Hover,t),n==null||n(r,o))}}function od(e){var t=e.onHoverStart,n=e.onHoverEnd,r=e.whileHover,o=e.visualElement;Ot(o,"pointerenter",t||r?Gr(o,!0,t):void 0,{passive:!t}),Ot(o,"pointerleave",n||r?Gr(o,!1,n):void 0,{passive:!n})}var Ia=function(e,t){return t?e===t?!0:Ia(e,t.parentElement):!1};function _a(e){return v.exports.useEffect(function(){return function(){return e()}},[])}function id(e){var t=e.onTap,n=e.onTapStart,r=e.onTapCancel,o=e.whileTap,s=e.visualElement,a=t||n||r||o,i=v.exports.useRef(!1),l=v.exports.useRef(null),c={passive:!(n||t||r||m)};function u(){var g;(g=l.current)===null||g===void 0||g.call(l),l.current=null}function f(){var g;return u(),i.current=!1,(g=s.animationState)===null||g===void 0||g.setActive(G.Tap,!1),!Ea()}function p(g,x){!f()||(Ia(s.getInstance(),g.target)?t==null||t(g,x):r==null||r(g,x))}function h(g,x){!f()||r==null||r(g,x)}function m(g,x){var b;u(),!i.current&&(i.current=!0,l.current=Pi(Ye(window,"pointerup",p,c),Ye(window,"pointercancel",h,c)),(b=s.animationState)===null||b===void 0||b.setActive(G.Tap,!0),n==null||n(g,x))}Ot(s,"pointerdown",a?m:void 0,c),_a(u)}var Kr=new Set;function ad(e,t,n){e||Kr.has(t)||(console.warn(t),n&&console.warn(n),Kr.add(t))}var Ln=new WeakMap,hn=new WeakMap,sd=function(e){var t;(t=Ln.get(e.target))===null||t===void 0||t(e)},ld=function(e){e.forEach(sd)};function cd(e){var t=e.root,n=me(e,["root"]),r=t||document;hn.has(r)||hn.set(r,{});var o=hn.get(r),s=JSON.stringify(n);return o[s]||(o[s]=new IntersectionObserver(ld,C({root:t},n))),o[s]}function ud(e,t,n){var r=cd(t);return Ln.set(e,n),r.observe(e),function(){Ln.delete(e),r.unobserve(e)}}function dd(e){var t=e.visualElement,n=e.whileInView,r=e.onViewportEnter,o=e.onViewportLeave,s=e.viewport,a=s===void 0?{}:s,i=v.exports.useRef({hasEnteredView:!1,isInView:!1}),l=Boolean(n||r||o);a.once&&i.current.hasEnteredView&&(l=!1);var c=typeof IntersectionObserver>"u"?hd:pd;c(l,i.current,t,a)}var fd={some:0,all:1};function pd(e,t,n,r){var o=r.root,s=r.margin,a=r.amount,i=a===void 0?"some":a,l=r.once;v.exports.useEffect(function(){if(!!e){var c={root:o==null?void 0:o.current,rootMargin:s,threshold:typeof i=="number"?i:fd[i]},u=function(f){var p,h=f.isIntersecting;if(t.isInView!==h&&(t.isInView=h,!(l&&!h&&t.hasEnteredView))){h&&(t.hasEnteredView=!0),(p=n.animationState)===null||p===void 0||p.setActive(G.InView,h);var m=n.getProps(),g=h?m.onViewportEnter:m.onViewportLeave;g==null||g(f)}};return ud(n.getInstance(),c,u)}},[e,o,s,i])}function hd(e,t,n,r){var o=r.fallback,s=o===void 0?!0:o;v.exports.useEffect(function(){!e||!s||(qi!=="production"&&ad(!1,"IntersectionObserver not available on this device. whileInView animations will trigger on mount."),requestAnimationFrame(function(){var a;t.hasEnteredView=!0;var i=n.getProps().onViewportEnter;i==null||i(null),(a=n.animationState)===null||a===void 0||a.setActive(G.InView,!0)}))},[e])}var Ae=function(e){return function(t){return e(t),null}},vd={inView:Ae(dd),tap:Ae(id),focus:Ae(Yu),hover:Ae(od)},md=0,gd=function(){return md++},yd=function(){return $t(gd)};function Va(){var e=v.exports.useContext(Kt);if(e===null)return[!0,null];var t=e.isPresent,n=e.onExitComplete,r=e.register,o=yd();v.exports.useEffect(function(){return r(o)},[]);var s=function(){return n==null?void 0:n(o)};return!t&&n?[!1,s]:[!0]}function Aa(e,t){if(!Array.isArray(t))return!1;var n=t.length;if(n!==e.length)return!1;for(var r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}var kt=function(e){return e*1e3},bd={linear:wi,easeIn:js,easeInOut:Bs,easeOut:Fs,circIn:Ns,circInOut:zs,circOut:Ci,backIn:Us,backInOut:Ws,backOut:Hs,anticipate:Gs,bounceIn:Ks,bounceInOut:Xs,bounceOut:Ys},Xr=function(e){if(Array.isArray(e)){Si(e.length===4);var t=J(e,4),n=t[0],r=t[1],o=t[2],s=t[3];return ks(n,r,o,s)}else if(typeof e=="string")return bd[e];return e},xd=function(e){return Array.isArray(e)&&typeof e[0]!="number"},Yr=function(e,t){return e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&$e.test(t)&&!t.startsWith("url("))},ke=function(){return{type:"spring",stiffness:500,damping:25,restSpeed:10}},_t=function(e){return{type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}},vn=function(){return{type:"keyframes",ease:"linear",duration:.3}},Pd=function(e){return{type:"keyframes",duration:.8,values:e}},$r={x:ke,y:ke,z:ke,rotate:ke,rotateX:ke,rotateY:ke,rotateZ:ke,scaleX:_t,scaleY:_t,scale:_t,opacity:vn,backgroundColor:vn,color:vn,default:_t},Sd=function(e,t){var n;return gt(t)?n=Pd:n=$r[e]||$r.default,C({to:t},n(t))},wd=C(C({},ca),{color:de,backgroundColor:de,outlineColor:de,fill:de,stroke:de,borderColor:de,borderTopColor:de,borderRightColor:de,borderBottomColor:de,borderLeftColor:de,filter:Pn,WebkitFilter:Pn}),sr=function(e){return wd[e]};function lr(e,t){var n,r=sr(e);return r!==Pn&&(r=$e),(n=r.getAnimatableNone)===null||n===void 0?void 0:n.call(r,t)}var Cd={current:!1};function Td(e){e.when,e.delay,e.delayChildren,e.staggerChildren,e.staggerDirection,e.repeat,e.repeatType,e.repeatDelay,e.from;var t=me(e,["when","delay","delayChildren","staggerChildren","staggerDirection","repeat","repeatType","repeatDelay","from"]);return!!Object.keys(t).length}function Ed(e){var t=e.ease,n=e.times,r=e.yoyo,o=e.flip,s=e.loop,a=me(e,["ease","times","yoyo","flip","loop"]),i=C({},a);return n&&(i.offset=n),a.duration&&(i.duration=kt(a.duration)),a.repeatDelay&&(i.repeatDelay=kt(a.repeatDelay)),t&&(i.ease=xd(t)?t.map(Xr):Xr(t)),a.type==="tween"&&(i.type="keyframes"),(r||s||o)&&(r?i.repeatType="reverse":s?i.repeatType="loop":o&&(i.repeatType="mirror"),i.repeat=s||r||o||a.repeat),a.type!=="spring"&&(i.type="keyframes"),i}function Id(e,t){var n,r,o=cr(e,t)||{};return(r=(n=o.delay)!==null&&n!==void 0?n:e.delay)!==null&&r!==void 0?r:0}function _d(e){return Array.isArray(e.to)&&e.to[0]===null&&(e.to=he([],J(e.to),!1),e.to[0]=e.from),e}function Vd(e,t,n){var r;return Array.isArray(t.to)&&((r=e.duration)!==null&&r!==void 0||(e.duration=.8)),_d(t),Td(e)||(e=C(C({},e),Sd(n,t.to))),C(C({},t),Ed(e))}function Ad(e,t,n,r,o){var s,a=cr(r,e),i=(s=a.from)!==null&&s!==void 0?s:t.get(),l=Yr(e,n);i==="none"&&l&&typeof n=="string"?i=lr(e,n):Zr(i)&&typeof n=="string"?i=qr(n):!Array.isArray(n)&&Zr(n)&&typeof i=="string"&&(n=qr(i));var c=Yr(e,i);function u(){var p={from:i,to:n,velocity:t.getVelocity(),onComplete:o,onUpdate:function(h){return t.set(h)}};return a.type==="inertia"||a.type==="decay"?$s(C(C({},p),a)):Zs(C(C({},Vd(a,p,e)),{onUpdate:function(h){var m;p.onUpdate(h),(m=a.onUpdate)===null||m===void 0||m.call(a,h)},onComplete:function(){var h;p.onComplete(),(h=a.onComplete)===null||h===void 0||h.call(a)}}))}function f(){var p,h,m=ya(n);return t.set(m),o(),(p=a==null?void 0:a.onUpdate)===null||p===void 0||p.call(a,m),(h=a==null?void 0:a.onComplete)===null||h===void 0||h.call(a),{stop:function(){}}}return!c||!l||a.type===!1?f:u}function Zr(e){return e===0||typeof e=="string"&&parseFloat(e)===0&&e.indexOf(" ")===-1}function qr(e){return typeof e=="number"?0:lr("",e)}function cr(e,t){return e[t]||e.default||e}function ur(e,t,n,r){return r===void 0&&(r={}),Cd.current&&(r={type:!1}),t.start(function(o){var s,a,i=Ad(e,t,n,r,o),l=Id(r,e),c=function(){return a=i()};return l?s=window.setTimeout(c,kt(l)):c(),function(){clearTimeout(s),a==null||a.stop()}})}var Rd=function(e){return/^\-?\d*\.?\d+$/.test(e)},Dd=function(e){return/^0[^.\s]+$/.test(e)};function dr(e,t){e.indexOf(t)===-1&&e.push(t)}function fr(e,t){var n=e.indexOf(t);n>-1&&e.splice(n,1)}var st=function(){function e(){this.subscriptions=[]}return e.prototype.add=function(t){var n=this;return dr(this.subscriptions,t),function(){return fr(n.subscriptions,t)}},e.prototype.notify=function(t,n,r){var o=this.subscriptions.length;if(!!o)if(o===1)this.subscriptions[0](t,n,r);else for(var s=0;s<o;s++){var a=this.subscriptions[s];a&&a(t,n,r)}},e.prototype.getSize=function(){return this.subscriptions.length},e.prototype.clear=function(){this.subscriptions.length=0},e}(),Md=function(e){return!isNaN(parseFloat(e))},Ld=function(){function e(t){var n=this;this.version="6.5.1",this.timeDelta=0,this.lastUpdated=0,this.updateSubscribers=new st,this.velocityUpdateSubscribers=new st,this.renderSubscribers=new st,this.canTrackVelocity=!1,this.updateAndNotify=function(r,o){o===void 0&&(o=!0),n.prev=n.current,n.current=r;var s=Sn(),a=s.delta,i=s.timestamp;n.lastUpdated!==i&&(n.timeDelta=a,n.lastUpdated=i,ye.postRender(n.scheduleVelocityCheck)),n.prev!==n.current&&n.updateSubscribers.notify(n.current),n.velocityUpdateSubscribers.getSize()&&n.velocityUpdateSubscribers.notify(n.getVelocity()),o&&n.renderSubscribers.notify(n.current)},this.scheduleVelocityCheck=function(){return ye.postRender(n.velocityCheck)},this.velocityCheck=function(r){var o=r.timestamp;o!==n.lastUpdated&&(n.prev=n.current,n.velocityUpdateSubscribers.notify(n.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=Md(this.current)}return e.prototype.onChange=function(t){return this.updateSubscribers.add(t)},e.prototype.clearListeners=function(){this.updateSubscribers.clear()},e.prototype.onRenderRequest=function(t){return t(this.get()),this.renderSubscribers.add(t)},e.prototype.attach=function(t){this.passiveEffect=t},e.prototype.set=function(t,n){n===void 0&&(n=!0),!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)},e.prototype.get=function(){return this.current},e.prototype.getPrevious=function(){return this.prev},e.prototype.getVelocity=function(){return this.canTrackVelocity?qs(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0},e.prototype.start=function(t){var n=this;return this.stop(),new Promise(function(r){n.hasAnimated=!0,n.stopAnimation=t(r)}).then(function(){return n.clearAnimation()})},e.prototype.stop=function(){this.stopAnimation&&this.stopAnimation(),this.clearAnimation()},e.prototype.isAnimating=function(){return!!this.stopAnimation},e.prototype.clearAnimation=function(){this.stopAnimation=null},e.prototype.destroy=function(){this.updateSubscribers.clear(),this.renderSubscribers.clear(),this.stop()},e}();function Ze(e){return new Ld(e)}var Ra=function(e){return function(t){return t.test(e)}},Od={test:function(e){return e==="auto"},parse:function(e){return e}},Da=[Un,L,dt,Ce,Js,Qs,Od],ot=function(e){return Da.find(Ra(e))},kd=he(he([],J(Da),!1),[de,$e],!1),jd=function(e){return kd.find(Ra(e))};function Bd(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Ze(n))}function Fd(e,t){var n=Xt(e,t),r=n?e.makeTargetAnimatable(n,!1):{},o=r.transitionEnd,s=o===void 0?{}:o;r.transition;var a=me(r,["transitionEnd","transition"]);a=C(C({},a),s);for(var i in a){var l=ya(a[i]);Bd(e,i,l)}}function Nd(e,t,n){var r,o,s,a,i=Object.keys(t).filter(function(h){return!e.hasValue(h)}),l=i.length;if(!!l)for(var c=0;c<l;c++){var u=i[c],f=t[u],p=null;Array.isArray(f)&&(p=f[0]),p===null&&(p=(o=(r=n[u])!==null&&r!==void 0?r:e.readValue(u))!==null&&o!==void 0?o:t[u]),p!=null&&(typeof p=="string"&&(Rd(p)||Dd(p))?p=parseFloat(p):!jd(p)&&$e.test(f)&&(p=lr(u,f)),e.addValue(u,Ze(p)),(s=(a=n)[u])!==null&&s!==void 0||(a[u]=p),e.setBaseTarget(u,p))}}function zd(e,t){if(!!t){var n=t[e]||t.default||t;return n.from}}function Ud(e,t,n){var r,o,s={};for(var a in e)s[a]=(r=zd(a,t))!==null&&r!==void 0?r:(o=n.getValue(a))===null||o===void 0?void 0:o.get();return s}function Wd(e,t,n){n===void 0&&(n={}),e.notifyAnimationStart(t);var r;if(Array.isArray(t)){var o=t.map(function(a){return On(e,a,n)});r=Promise.all(o)}else if(typeof t=="string")r=On(e,t,n);else{var s=typeof t=="function"?Xt(e,t,n.custom):t;r=Ma(e,s,n)}return r.then(function(){return e.notifyAnimationComplete(t)})}function On(e,t,n){var r;n===void 0&&(n={});var o=Xt(e,t,n.custom),s=(o||{}).transition,a=s===void 0?e.getDefaultTransition()||{}:s;n.transitionOverride&&(a=n.transitionOverride);var i=o?function(){return Ma(e,o,n)}:function(){return Promise.resolve()},l=!((r=e.variantChildren)===null||r===void 0)&&r.size?function(h){h===void 0&&(h=0);var m=a.delayChildren,g=m===void 0?0:m,x=a.staggerChildren,b=a.staggerDirection;return Hd(e,t,g+h,x,b,n)}:function(){return Promise.resolve()},c=a.when;if(c){var u=J(c==="beforeChildren"?[i,l]:[l,i],2),f=u[0],p=u[1];return f().then(p)}else return Promise.all([i(),l(n.delay)])}function Ma(e,t,n){var r,o=n===void 0?{}:n,s=o.delay,a=s===void 0?0:s,i=o.transitionOverride,l=o.type,c=e.makeTargetAnimatable(t),u=c.transition,f=u===void 0?e.getDefaultTransition():u,p=c.transitionEnd,h=me(c,["transition","transitionEnd"]);i&&(f=i);var m=[],g=l&&((r=e.animationState)===null||r===void 0?void 0:r.getState()[l]);for(var x in h){var b=e.getValue(x),y=h[x];if(!(!b||y===void 0||g&&Kd(g,x))){var P=C({delay:a},f);e.shouldReduceMotion&&wt(x)&&(P=C(C({},P),{type:!1,delay:0}));var S=ur(x,b,y,P);m.push(S)}}return Promise.all(m).then(function(){p&&Fd(e,p)})}function Hd(e,t,n,r,o,s){n===void 0&&(n=0),r===void 0&&(r=0),o===void 0&&(o=1);var a=[],i=(e.variantChildren.size-1)*r,l=o===1?function(c){return c===void 0&&(c=0),c*r}:function(c){return c===void 0&&(c=0),i-c*r};return Array.from(e.variantChildren).sort(Gd).forEach(function(c,u){a.push(On(c,t,C(C({},s),{delay:n+l(u)})).then(function(){return c.notifyAnimationComplete(t)}))}),Promise.all(a)}function Gd(e,t){return e.sortNodePosition(t)}function Kd(e,t){var n=e.protectedKeys,r=e.needsAnimating,o=n.hasOwnProperty(t)&&r[t]!==!0;return r[t]=!1,o}var pr=[G.Animate,G.InView,G.Focus,G.Hover,G.Tap,G.Drag,G.Exit],Xd=he([],J(pr),!1).reverse(),Yd=pr.length;function $d(e){return function(t){return Promise.all(t.map(function(n){var r=n.animation,o=n.options;return Wd(e,r,o)}))}}function Zd(e){var t=$d(e),n=Jd(),r={},o=!0,s=function(u,f){var p=Xt(e,f);if(p){p.transition;var h=p.transitionEnd,m=me(p,["transition","transitionEnd"]);u=C(C(C({},u),m),h)}return u};function a(u){return r[u]!==void 0}function i(u){t=u(e)}function l(u,f){for(var p,h=e.getProps(),m=e.getVariantContext(!0)||{},g=[],x=new Set,b={},y=1/0,P=function(E){var _=Xd[E],R=n[_],M=(p=h[_])!==null&&p!==void 0?p:m[_],O=fe(M),B=_===f?R.isActive:null;B===!1&&(y=E);var k=M===m[_]&&M!==h[_]&&O;if(k&&o&&e.manuallyAnimateOnMount&&(k=!1),R.protectedKeys=C({},b),!R.isActive&&B===null||!M&&!R.prevProp||ir(M)||typeof M=="boolean")return"continue";var N=qd(R.prevProp,M),K=N||_===f&&R.isActive&&!k&&O||E>y&&O,te=Array.isArray(M)?M:[M],Z=te.reduce(s,{});B===!1&&(Z={});var ie=R.prevResolvedValues,X=ie===void 0?{}:ie,se=C(C({},X),Z),Se=function(A){K=!0,x.delete(A),R.needsAnimating[A]=!0};for(var ne in se){var z=Z[ne],V=X[ne];b.hasOwnProperty(ne)||(z!==V?gt(z)&&gt(V)?!Aa(z,V)||N?Se(ne):R.protectedKeys[ne]=!0:z!==void 0?Se(ne):x.add(ne):z!==void 0&&x.has(ne)?Se(ne):R.protectedKeys[ne]=!0)}R.prevProp=M,R.prevResolvedValues=Z,R.isActive&&(b=C(C({},b),Z)),o&&e.blockInitialAnimation&&(K=!1),K&&!k&&g.push.apply(g,he([],J(te.map(function(A){return{animation:A,options:C({type:_},u)}})),!1))},S=0;S<Yd;S++)P(S);if(r=C({},b),x.size){var w={};x.forEach(function(E){var _=e.getBaseTarget(E);_!==void 0&&(w[E]=_)}),g.push({animation:w})}var T=Boolean(g.length);return o&&h.initial===!1&&!e.manuallyAnimateOnMount&&(T=!1),o=!1,T?t(g):Promise.resolve()}function c(u,f,p){var h;if(n[u].isActive===f)return Promise.resolve();(h=e.variantChildren)===null||h===void 0||h.forEach(function(x){var b;return(b=x.animationState)===null||b===void 0?void 0:b.setActive(u,f)}),n[u].isActive=f;var m=l(p,u);for(var g in n)n[g].protectedKeys={};return m}return{isAnimated:a,animateChanges:l,setActive:c,setAnimateFunction:i,getState:function(){return n}}}function qd(e,t){return typeof t=="string"?t!==e:ta(t)?!Aa(t,e):!1}function je(e){return e===void 0&&(e=!1),{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Jd(){var e;return e={},e[G.Animate]=je(!0),e[G.InView]=je(),e[G.Hover]=je(),e[G.Tap]=je(),e[G.Drag]=je(),e[G.Focus]=je(),e[G.Exit]=je(),e}var Qd={animation:Ae(function(e){var t=e.visualElement,n=e.animate;t.animationState||(t.animationState=Zd(t)),ir(n)&&v.exports.useEffect(function(){return n.subscribe(t)},[n])}),exit:Ae(function(e){var t=e.custom,n=e.visualElement,r=J(Va(),2),o=r[0],s=r[1],a=v.exports.useContext(Kt);v.exports.useEffect(function(){var i,l;n.isPresent=o;var c=(i=n.animationState)===null||i===void 0?void 0:i.setActive(G.Exit,!o,{custom:(l=a==null?void 0:a.custom)!==null&&l!==void 0?l:t});!o&&(c==null||c.then(s))},[o])})},La=function(){function e(t,n,r){var o=this,s=r===void 0?{}:r,a=s.transformPagePoint;if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=function(){if(!!(o.lastMoveEvent&&o.lastMoveEventInfo)){var p=gn(o.lastMoveEventInfo,o.history),h=o.startEvent!==null,m=Ti(p.offset,{x:0,y:0})>=3;if(!(!h&&!m)){var g=p.point,x=Sn().timestamp;o.history.push(C(C({},g),{timestamp:x}));var b=o.handlers,y=b.onStart,P=b.onMove;h||(y&&y(o.lastMoveEvent,p),o.startEvent=o.lastMoveEvent),P&&P(o.lastMoveEvent,p)}}},this.handlePointerMove=function(p,h){if(o.lastMoveEvent=p,o.lastMoveEventInfo=mn(h,o.transformPagePoint),xa(p)&&p.buttons===0){o.handlePointerUp(p,h);return}ye.update(o.updatePoint,!0)},this.handlePointerUp=function(p,h){o.end();var m=o.handlers,g=m.onEnd,x=m.onSessionEnd,b=gn(mn(h,o.transformPagePoint),o.history);o.startEvent&&g&&g(p,b),x&&x(p,b)},!(Pa(t)&&t.touches.length>1)){this.handlers=n,this.transformPagePoint=a;var i=ar(t),l=mn(i,this.transformPagePoint),c=l.point,u=Sn().timestamp;this.history=[C(C({},c),{timestamp:u})];var f=n.onSessionStart;f&&f(t,gn(l,this.history)),this.removeListeners=Pi(Ye(window,"pointermove",this.handlePointerMove),Ye(window,"pointerup",this.handlePointerUp),Ye(window,"pointercancel",this.handlePointerUp))}}return e.prototype.updateHandlers=function(t){this.handlers=t},e.prototype.end=function(){this.removeListeners&&this.removeListeners(),ft.update(this.updatePoint)},e}();function mn(e,t){return t?{point:t(e.point)}:e}function Jr(e,t){return{x:e.x-t.x,y:e.y-t.y}}function gn(e,t){var n=e.point;return{point:n,delta:Jr(n,Oa(t)),offset:Jr(n,ef(t)),velocity:tf(t,.1)}}function ef(e){return e[0]}function Oa(e){return e[e.length-1]}function tf(e,t){if(e.length<2)return{x:0,y:0};for(var n=e.length-1,r=null,o=Oa(e);n>=0&&(r=e[n],!(o.timestamp-r.timestamp>kt(t)));)n--;if(!r)return{x:0,y:0};var s=(o.timestamp-r.timestamp)/1e3;if(s===0)return{x:0,y:0};var a={x:(o.x-r.x)/s,y:(o.y-r.y)/s};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function Pe(e){return e.max-e.min}function Qr(e,t,n){return t===void 0&&(t=0),n===void 0&&(n=.01),Ti(e,t)<n}function eo(e,t,n,r){r===void 0&&(r=.5),e.origin=r,e.originPoint=q(t.min,t.max,e.origin),e.scale=Pe(n)/Pe(t),(Qr(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=q(n.min,n.max,e.origin)-e.originPoint,(Qr(e.translate)||isNaN(e.translate))&&(e.translate=0)}function lt(e,t,n,r){eo(e.x,t.x,n.x,r==null?void 0:r.originX),eo(e.y,t.y,n.y,r==null?void 0:r.originY)}function to(e,t,n){e.min=n.min+t.min,e.max=e.min+Pe(t)}function nf(e,t,n){to(e.x,t.x,n.x),to(e.y,t.y,n.y)}function no(e,t,n){e.min=t.min-n.min,e.max=e.min+Pe(t)}function ct(e,t,n){no(e.x,t.x,n.x),no(e.y,t.y,n.y)}function rf(e,t,n){var r=t.min,o=t.max;return r!==void 0&&e<r?e=n?q(r,e,n.min):Math.max(e,r):o!==void 0&&e>o&&(e=n?q(o,e,n.max):Math.min(e,o)),e}function ro(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function of(e,t){var n=t.top,r=t.left,o=t.bottom,s=t.right;return{x:ro(e.x,r,s),y:ro(e.y,n,o)}}function oo(e,t){var n,r=t.min-e.min,o=t.max-e.max;return t.max-t.min<e.max-e.min&&(n=J([o,r],2),r=n[0],o=n[1]),{min:r,max:o}}function af(e,t){return{x:oo(e.x,t.x),y:oo(e.y,t.y)}}function sf(e,t){var n=.5,r=Pe(e),o=Pe(t);return o>r?n=wn(t.min,t.max-r,e.min):r>o&&(n=wn(e.min,e.max-o,t.min)),el(0,1,n)}function lf(e,t){var n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}var kn=.35;function cf(e){return e===void 0&&(e=kn),e===!1?e=0:e===!0&&(e=kn),{x:io(e,"left","right"),y:io(e,"top","bottom")}}function io(e,t,n){return{min:ao(e,t),max:ao(e,n)}}function ao(e,t){var n;return typeof e=="number"?e:(n=e[t])!==null&&n!==void 0?n:0}var so=function(){return{translate:0,scale:1,origin:0,originPoint:0}},ut=function(){return{x:so(),y:so()}},lo=function(){return{min:0,max:0}},re=function(){return{x:lo(),y:lo()}};function pe(e){return[e("x"),e("y")]}function ka(e){var t=e.top,n=e.left,r=e.right,o=e.bottom;return{x:{min:n,max:r},y:{min:t,max:o}}}function uf(e){var t=e.x,n=e.y;return{top:n.min,right:t.max,bottom:n.max,left:t.min}}function df(e,t){if(!t)return e;var n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function yn(e){return e===void 0||e===1}function ja(e){var t=e.scale,n=e.scaleX,r=e.scaleY;return!yn(t)||!yn(n)||!yn(r)}function Te(e){return ja(e)||co(e.x)||co(e.y)||e.z||e.rotate||e.rotateX||e.rotateY}function co(e){return e&&e!=="0%"}function jt(e,t,n){var r=e-n,o=t*r;return n+o}function uo(e,t,n,r,o){return o!==void 0&&(e=jt(e,o,r)),jt(e,n,r)+t}function jn(e,t,n,r,o){t===void 0&&(t=0),n===void 0&&(n=1),e.min=uo(e.min,t,n,r,o),e.max=uo(e.max,t,n,r,o)}function Ba(e,t){var n=t.x,r=t.y;jn(e.x,n.translate,n.scale,n.originPoint),jn(e.y,r.translate,r.scale,r.originPoint)}function ff(e,t,n,r){var o,s;r===void 0&&(r=!1);var a=n.length;if(!!a){t.x=t.y=1;for(var i,l,c=0;c<a;c++)i=n[c],l=i.projectionDelta,((s=(o=i.instance)===null||o===void 0?void 0:o.style)===null||s===void 0?void 0:s.display)!=="contents"&&(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Xe(e,{x:-i.scroll.x,y:-i.scroll.y}),l&&(t.x*=l.x.scale,t.y*=l.y.scale,Ba(e,l)),r&&Te(i.latestValues)&&Xe(e,i.latestValues))}}function Ie(e,t){e.min=e.min+t,e.max=e.max+t}function fo(e,t,n){var r=J(n,3),o=r[0],s=r[1],a=r[2],i=t[a]!==void 0?t[a]:.5,l=q(e.min,e.max,i);jn(e,t[o],t[s],l,t.scale)}var pf=["x","scaleX","originX"],hf=["y","scaleY","originY"];function Xe(e,t){fo(e.x,t,pf),fo(e.y,t,hf)}function Fa(e,t){return ka(df(e.getBoundingClientRect(),t))}function vf(e,t,n){var r=Fa(e,n),o=t.scroll;return o&&(Ie(r.x,o.x),Ie(r.y,o.y)),r}var mf=new WeakMap,gf=function(){function e(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=re(),this.visualElement=t}return e.prototype.start=function(t,n){var r=this,o=n===void 0?{}:n,s=o.snapToCursor,a=s===void 0?!1:s;if(this.visualElement.isPresent!==!1){var i=function(f){r.stopAnimation(),a&&r.snapToCursor(ar(f,"page").point)},l=function(f,p){var h,m=r.getProps(),g=m.drag,x=m.dragPropagation,b=m.onDragStart;g&&!x&&(r.openGlobalLock&&r.openGlobalLock(),r.openGlobalLock=Ta(g),!r.openGlobalLock)||(r.isDragging=!0,r.currentDirection=null,r.resolveConstraints(),r.visualElement.projection&&(r.visualElement.projection.isAnimationBlocked=!0,r.visualElement.projection.target=void 0),pe(function(y){var P,S,w=r.getAxisMotionValue(y).get()||0;if(dt.test(w)){var T=(S=(P=r.visualElement.projection)===null||P===void 0?void 0:P.layout)===null||S===void 0?void 0:S.actual[y];if(T){var E=Pe(T);w=E*(parseFloat(w)/100)}}r.originPoint[y]=w}),b==null||b(f,p),(h=r.visualElement.animationState)===null||h===void 0||h.setActive(G.Drag,!0))},c=function(f,p){var h=r.getProps(),m=h.dragPropagation,g=h.dragDirectionLock,x=h.onDirectionLock,b=h.onDrag;if(!(!m&&!r.openGlobalLock)){var y=p.offset;if(g&&r.currentDirection===null){r.currentDirection=yf(y),r.currentDirection!==null&&(x==null||x(r.currentDirection));return}r.updateAxis("x",p.point,y),r.updateAxis("y",p.point,y),r.visualElement.syncRender(),b==null||b(f,p)}},u=function(f,p){return r.stop(f,p)};this.panSession=new La(t,{onSessionStart:i,onStart:l,onMove:c,onSessionEnd:u},{transformPagePoint:this.visualElement.getTransformPagePoint()})}},e.prototype.stop=function(t,n){var r=this.isDragging;if(this.cancel(),!!r){var o=n.velocity;this.startAnimation(o);var s=this.getProps().onDragEnd;s==null||s(t,n)}},e.prototype.cancel=function(){var t,n;this.isDragging=!1,this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!1),(t=this.panSession)===null||t===void 0||t.end(),this.panSession=void 0;var r=this.getProps().dragPropagation;!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),(n=this.visualElement.animationState)===null||n===void 0||n.setActive(G.Drag,!1)},e.prototype.updateAxis=function(t,n,r){var o=this.getProps().drag;if(!(!r||!Vt(t,o,this.currentDirection))){var s=this.getAxisMotionValue(t),a=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(a=rf(a,this.constraints[t],this.elastic[t])),s.set(a)}},e.prototype.resolveConstraints=function(){var t=this,n=this.getProps(),r=n.dragConstraints,o=n.dragElastic,s=(this.visualElement.projection||{}).layout,a=this.constraints;r&&Ke(r)?this.constraints||(this.constraints=this.resolveRefConstraints()):r&&s?this.constraints=of(s.actual,r):this.constraints=!1,this.elastic=cf(o),a!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&pe(function(i){t.getAxisMotionValue(i)&&(t.constraints[i]=lf(s.actual[i],t.constraints[i]))})},e.prototype.resolveRefConstraints=function(){var t=this.getProps(),n=t.dragConstraints,r=t.onMeasureDragConstraints;if(!n||!Ke(n))return!1;var o=n.current,s=this.visualElement.projection;if(!s||!s.layout)return!1;var a=vf(o,s.root,this.visualElement.getTransformPagePoint()),i=af(s.layout.actual,a);if(r){var l=r(uf(i));this.hasMutatedConstraints=!!l,l&&(i=ka(l))}return i},e.prototype.startAnimation=function(t){var n=this,r=this.getProps(),o=r.drag,s=r.dragMomentum,a=r.dragElastic,i=r.dragTransition,l=r.dragSnapToOrigin,c=r.onDragTransitionEnd,u=this.constraints||{},f=pe(function(p){var h;if(!!Vt(p,o,n.currentDirection)){var m=(h=u==null?void 0:u[p])!==null&&h!==void 0?h:{};l&&(m={min:0,max:0});var g=a?200:1e6,x=a?40:1e7,b=C(C({type:"inertia",velocity:s?t[p]:0,bounceStiffness:g,bounceDamping:x,timeConstant:750,restDelta:1,restSpeed:10},i),m);return n.startAxisValueAnimation(p,b)}});return Promise.all(f).then(c)},e.prototype.startAxisValueAnimation=function(t,n){var r=this.getAxisMotionValue(t);return ur(t,r,0,n)},e.prototype.stopAnimation=function(){var t=this;pe(function(n){return t.getAxisMotionValue(n).stop()})},e.prototype.getAxisMotionValue=function(t){var n,r,o="_drag"+t.toUpperCase(),s=this.visualElement.getProps()[o];return s||this.visualElement.getValue(t,(r=(n=this.visualElement.getProps().initial)===null||n===void 0?void 0:n[t])!==null&&r!==void 0?r:0)},e.prototype.snapToCursor=function(t){var n=this;pe(function(r){var o=n.getProps().drag;if(!!Vt(r,o,n.currentDirection)){var s=n.visualElement.projection,a=n.getAxisMotionValue(r);if(s&&s.layout){var i=s.layout.actual[r],l=i.min,c=i.max;a.set(t[r]-q(l,c,.5))}}})},e.prototype.scalePositionWithinConstraints=function(){var t=this,n,r=this.getProps(),o=r.drag,s=r.dragConstraints,a=this.visualElement.projection;if(!(!Ke(s)||!a||!this.constraints)){this.stopAnimation();var i={x:0,y:0};pe(function(c){var u=t.getAxisMotionValue(c);if(u){var f=u.get();i[c]=sf({min:f,max:f},t.constraints[c])}});var l=this.visualElement.getProps().transformTemplate;this.visualElement.getInstance().style.transform=l?l({},""):"none",(n=a.root)===null||n===void 0||n.updateScroll(),a.updateLayout(),this.resolveConstraints(),pe(function(c){if(!!Vt(c,o,null)){var u=t.getAxisMotionValue(c),f=t.constraints[c],p=f.min,h=f.max;u.set(q(p,h,i[c]))}})}},e.prototype.addListeners=function(){var t=this,n;mf.set(this.visualElement,this);var r=this.visualElement.getInstance(),o=Ye(r,"pointerdown",function(c){var u=t.getProps(),f=u.drag,p=u.dragListener,h=p===void 0?!0:p;f&&h&&t.start(c)}),s=function(){var c=t.getProps().dragConstraints;Ke(c)&&(t.constraints=t.resolveRefConstraints())},a=this.visualElement.projection,i=a.addEventListener("measure",s);a&&!a.layout&&((n=a.root)===null||n===void 0||n.updateScroll(),a.updateLayout()),s();var l=Zt(window,"resize",function(){return t.scalePositionWithinConstraints()});return a.addEventListener("didUpdate",function(c){var u=c.delta,f=c.hasLayoutChanged;t.isDragging&&f&&(pe(function(p){var h=t.getAxisMotionValue(p);!h||(t.originPoint[p]+=u[p].translate,h.set(h.get()+u[p].translate))}),t.visualElement.syncRender())}),function(){l(),o(),i()}},e.prototype.getProps=function(){var t=this.visualElement.getProps(),n=t.drag,r=n===void 0?!1:n,o=t.dragDirectionLock,s=o===void 0?!1:o,a=t.dragPropagation,i=a===void 0?!1:a,l=t.dragConstraints,c=l===void 0?!1:l,u=t.dragElastic,f=u===void 0?kn:u,p=t.dragMomentum,h=p===void 0?!0:p;return C(C({},t),{drag:r,dragDirectionLock:s,dragPropagation:i,dragConstraints:c,dragElastic:f,dragMomentum:h})},e}();function Vt(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function yf(e,t){t===void 0&&(t=10);var n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}function bf(e){var t=e.dragControls,n=e.visualElement,r=$t(function(){return new gf(n)});v.exports.useEffect(function(){return t&&t.subscribe(r)},[r,t]),v.exports.useEffect(function(){return r.addListeners()},[r])}function xf(e){var t=e.onPan,n=e.onPanStart,r=e.onPanEnd,o=e.onPanSessionStart,s=e.visualElement,a=t||n||r||o,i=v.exports.useRef(null),l=v.exports.useContext(Qn).transformPagePoint,c={onSessionStart:o,onStart:n,onMove:t,onEnd:function(f,p){i.current=null,r&&r(f,p)}};v.exports.useEffect(function(){i.current!==null&&i.current.updateHandlers(c)});function u(f){i.current=new La(f,c,{transformPagePoint:l})}Ot(s,"pointerdown",a&&u),_a(function(){return i.current&&i.current.end()})}var Pf={pan:Ae(xf),drag:Ae(bf)},At=["LayoutMeasure","BeforeLayoutMeasure","LayoutUpdate","ViewportBoxUpdate","Update","Render","AnimationComplete","LayoutAnimationComplete","AnimationStart","LayoutAnimationStart","SetAxisTarget","Unmount"];function Sf(){var e=At.map(function(){return new st}),t={},n={clearAllListeners:function(){return e.forEach(function(r){return r.clear()})},updatePropListeners:function(r){At.forEach(function(o){var s,a="on"+o,i=r[a];(s=t[o])===null||s===void 0||s.call(t),i&&(t[o]=n[a](i))})}};return e.forEach(function(r,o){n["on"+At[o]]=function(s){return r.add(s)},n["notify"+At[o]]=function(){for(var s=[],a=0;a<arguments.length;a++)s[a]=arguments[a];return r.notify.apply(r,he([],J(s),!1))}}),n}function wf(e,t,n){var r;for(var o in t){var s=t[o],a=n[o];if(xe(s))e.addValue(o,s);else if(xe(a))e.addValue(o,Ze(s));else if(a!==s)if(e.hasValue(o)){var i=e.getValue(o);!i.hasAnimated&&i.set(s)}else e.addValue(o,Ze((r=e.getStaticValue(o))!==null&&r!==void 0?r:s))}for(var o in n)t[o]===void 0&&e.removeValue(o);return t}var Na=function(e){var t=e.treeType,n=t===void 0?"":t,r=e.build,o=e.getBaseTarget,s=e.makeTargetAnimatable,a=e.measureViewportBox,i=e.render,l=e.readValueFromInstance,c=e.removeValueFromRenderState,u=e.sortNodePosition,f=e.scrapeMotionValuesFromProps;return function(p,h){var m=p.parent,g=p.props,x=p.presenceId,b=p.blockInitialAnimation,y=p.visualState,P=p.shouldReduceMotion;h===void 0&&(h={});var S=!1,w=y.latestValues,T=y.renderState,E,_=Sf(),R=new Map,M=new Map,O={},B=C({},w),k;function N(){!E||!S||(K(),i(E,T,g.style,z.projection))}function K(){r(z,T,w,h,g)}function te(){_.notifyUpdate(w)}function Z(V,A){var ee=A.onChange(function(Ne){w[V]=Ne,g.onUpdate&&ye.update(te,!1,!0)}),ce=A.onRenderRequest(z.scheduleRender);M.set(V,function(){ee(),ce()})}var ie=f(g);for(var X in ie){var se=ie[X];w[X]!==void 0&&xe(se)&&se.set(w[X],!1)}var Se=Yt(g),ne=ra(g),z=C(C({treeType:n,current:null,depth:m?m.depth+1:0,parent:m,children:new Set,presenceId:x,shouldReduceMotion:P,variantChildren:ne?new Set:void 0,isVisible:void 0,manuallyAnimateOnMount:Boolean(m==null?void 0:m.isMounted()),blockInitialAnimation:b,isMounted:function(){return Boolean(E)},mount:function(V){S=!0,E=z.current=V,z.projection&&z.projection.mount(V),ne&&m&&!Se&&(k=m==null?void 0:m.addVariantChild(z)),R.forEach(function(A,ee){return Z(ee,A)}),m==null||m.children.add(z),z.setProps(g)},unmount:function(){var V;(V=z.projection)===null||V===void 0||V.unmount(),ft.update(te),ft.render(N),M.forEach(function(A){return A()}),k==null||k(),m==null||m.children.delete(z),_.clearAllListeners(),E=void 0,S=!1},addVariantChild:function(V){var A,ee=z.getClosestVariantNode();if(ee)return(A=ee.variantChildren)===null||A===void 0||A.add(V),function(){return ee.variantChildren.delete(V)}},sortNodePosition:function(V){return!u||n!==V.treeType?0:u(z.getInstance(),V.getInstance())},getClosestVariantNode:function(){return ne?z:m==null?void 0:m.getClosestVariantNode()},getLayoutId:function(){return g.layoutId},getInstance:function(){return E},getStaticValue:function(V){return w[V]},setStaticValue:function(V,A){return w[V]=A},getLatestValues:function(){return w},setVisibility:function(V){z.isVisible!==V&&(z.isVisible=V,z.scheduleRender())},makeTargetAnimatable:function(V,A){return A===void 0&&(A=!0),s(z,V,g,A)},measureViewportBox:function(){return a(E,g)},addValue:function(V,A){z.hasValue(V)&&z.removeValue(V),R.set(V,A),w[V]=A.get(),Z(V,A)},removeValue:function(V){var A;R.delete(V),(A=M.get(V))===null||A===void 0||A(),M.delete(V),delete w[V],c(V,T)},hasValue:function(V){return R.has(V)},getValue:function(V,A){var ee=R.get(V);return ee===void 0&&A!==void 0&&(ee=Ze(A),z.addValue(V,ee)),ee},forEachValue:function(V){return R.forEach(V)},readValue:function(V){var A;return(A=w[V])!==null&&A!==void 0?A:l(E,V,h)},setBaseTarget:function(V,A){B[V]=A},getBaseTarget:function(V){if(o){var A=o(g,V);if(A!==void 0&&!xe(A))return A}return B[V]}},_),{build:function(){return K(),T},scheduleRender:function(){ye.render(N,!1,!0)},syncRender:N,setProps:function(V){(V.transformTemplate||g.transformTemplate)&&z.scheduleRender(),g=V,_.updatePropListeners(V),O=wf(z,f(g),O)},getProps:function(){return g},getVariant:function(V){var A;return(A=g.variants)===null||A===void 0?void 0:A[V]},getDefaultTransition:function(){return g.transition},getTransformPagePoint:function(){return g.transformPagePoint},getVariantContext:function(V){if(V===void 0&&(V=!1),V)return m==null?void 0:m.getVariantContext();if(!Se){var A=(m==null?void 0:m.getVariantContext())||{};return g.initial!==void 0&&(A.initial=g.initial),A}for(var ee={},ce=0;ce<Cf;ce++){var Ne=za[ce],Oe=g[Ne];(fe(Oe)||Oe===!1)&&(ee[Ne]=Oe)}return ee}});return z}},za=he(["initial"],J(pr),!1),Cf=za.length;function Bn(e){return typeof e=="string"&&e.startsWith("var(--")}var Ua=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function Tf(e){var t=Ua.exec(e);if(!t)return[,];var n=J(t,3),r=n[1],o=n[2];return[r,o]}function Fn(e,t,n){var r=J(Tf(e),2),o=r[0],s=r[1];if(!!o){var a=window.getComputedStyle(t).getPropertyValue(o);return a?a.trim():Bn(s)?Fn(s,t):s}}function Ef(e,t,n){var r,o=me(t,[]),s=e.getInstance();if(!(s instanceof Element))return{target:o,transitionEnd:n};n&&(n=C({},n)),e.forEachValue(function(c){var u=c.get();if(!!Bn(u)){var f=Fn(u,s);f&&c.set(f)}});for(var a in o){var i=o[a];if(!!Bn(i)){var l=Fn(i,s);!l||(o[a]=l,n&&((r=n[a])!==null&&r!==void 0||(n[a]=i)))}}return{target:o,transitionEnd:n}}var If=new Set(["width","height","top","left","right","bottom","x","y"]),Wa=function(e){return If.has(e)},_f=function(e){return Object.keys(e).some(Wa)},Ha=function(e,t){e.set(t,!1),e.set(t)},po=function(e){return e===Un||e===L},ho;(function(e){e.width="width",e.height="height",e.left="left",e.right="right",e.top="top",e.bottom="bottom"})(ho||(ho={}));var vo=function(e,t){return parseFloat(e.split(", ")[t])},mo=function(e,t){return function(n,r){var o=r.transform;if(o==="none"||!o)return 0;var s=o.match(/^matrix3d\((.+)\)$/);if(s)return vo(s[1],t);var a=o.match(/^matrix\((.+)\)$/);return a?vo(a[1],e):0}},Vf=new Set(["x","y","z"]),Af=mt.filter(function(e){return!Vf.has(e)});function Rf(e){var t=[];return Af.forEach(function(n){var r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t.length&&e.syncRender(),t}var go={width:function(e,t){var n=e.x,r=t.paddingLeft,o=r===void 0?"0":r,s=t.paddingRight,a=s===void 0?"0":s;return n.max-n.min-parseFloat(o)-parseFloat(a)},height:function(e,t){var n=e.y,r=t.paddingTop,o=r===void 0?"0":r,s=t.paddingBottom,a=s===void 0?"0":s;return n.max-n.min-parseFloat(o)-parseFloat(a)},top:function(e,t){var n=t.top;return parseFloat(n)},left:function(e,t){var n=t.left;return parseFloat(n)},bottom:function(e,t){var n=e.y,r=t.top;return parseFloat(r)+(n.max-n.min)},right:function(e,t){var n=e.x,r=t.left;return parseFloat(r)+(n.max-n.min)},x:mo(4,13),y:mo(5,14)},Df=function(e,t,n){var r=t.measureViewportBox(),o=t.getInstance(),s=getComputedStyle(o),a=s.display,i={};a==="none"&&t.setStaticValue("display",e.display||"block"),n.forEach(function(c){i[c]=go[c](r,s)}),t.syncRender();var l=t.measureViewportBox();return n.forEach(function(c){var u=t.getValue(c);Ha(u,i[c]),e[c]=go[c](l,s)}),e},Mf=function(e,t,n,r){n===void 0&&(n={}),r===void 0&&(r={}),t=C({},t),r=C({},r);var o=Object.keys(t).filter(Wa),s=[],a=!1,i=[];if(o.forEach(function(u){var f=e.getValue(u);if(!!e.hasValue(u)){var p=n[u],h=ot(p),m=t[u],g;if(gt(m)){var x=m.length,b=m[0]===null?1:0;p=m[b],h=ot(p);for(var y=b;y<x;y++)g?Si(ot(m[y])===g):g=ot(m[y])}else g=ot(m);if(h!==g)if(po(h)&&po(g)){var P=f.get();typeof P=="string"&&f.set(parseFloat(P)),typeof m=="string"?t[u]=parseFloat(m):Array.isArray(m)&&g===L&&(t[u]=m.map(parseFloat))}else(h==null?void 0:h.transform)&&(g==null?void 0:g.transform)&&(p===0||m===0)?p===0?f.set(g.transform(p)):t[u]=h.transform(m):(a||(s=Rf(e),a=!0),i.push(u),r[u]=r[u]!==void 0?r[u]:t[u],Ha(f,m))}}),i.length){var l=i.indexOf("height")>=0?window.pageYOffset:null,c=Df(t,e,i);return s.length&&s.forEach(function(u){var f=J(u,2),p=f[0],h=f[1];e.getValue(p).set(h)}),e.syncRender(),l!==null&&window.scrollTo({top:l}),{target:c,transitionEnd:r}}else return{target:t,transitionEnd:r}};function Lf(e,t,n,r){return _f(t)?Mf(e,t,n,r):{target:t,transitionEnd:r}}var Of=function(e,t,n,r){var o=Ef(e,t,r);return t=o.target,r=o.transitionEnd,Lf(e,t,n,r)};function kf(e){return window.getComputedStyle(e)}var Ga={treeType:"dom",readValueFromInstance:function(e,t){if(wt(t)){var n=sr(t);return n&&n.default||0}else{var r=kf(e);return(la(t)?r.getPropertyValue(t):r[t])||0}},sortNodePosition:function(e,t){return e.compareDocumentPosition(t)&2?1:-1},getBaseTarget:function(e,t){var n;return(n=e.style)===null||n===void 0?void 0:n[t]},measureViewportBox:function(e,t){var n=t.transformPagePoint;return Fa(e,n)},resetTransform:function(e,t,n){var r=n.transformTemplate;t.style.transform=r?r({},""):"none",e.scheduleRender()},restoreTransform:function(e,t){e.style.transform=t.style.transform},removeValueFromRenderState:function(e,t){var n=t.vars,r=t.style;delete n[e],delete r[e]},makeTargetAnimatable:function(e,t,n,r){var o=n.transformValues;r===void 0&&(r=!0);var s=t.transition,a=t.transitionEnd,i=me(t,["transition","transitionEnd"]),l=Ud(i,s||{},e);if(o&&(a&&(a=o(a)),i&&(i=o(i)),l&&(l=o(l))),r){Nd(e,i,l);var c=Of(e,i,l,a);a=c.transitionEnd,i=c.target}return C({transition:s,transitionEnd:a},i)},scrapeMotionValuesFromProps:or,build:function(e,t,n,r,o){e.isVisible!==void 0&&(t.style.visibility=e.isVisible?"visible":"hidden"),tr(t,n,r,o.transformTemplate)},render:ha},jf=Na(Ga),Bf=Na(C(C({},Ga),{getBaseTarget:function(e,t){return e[t]},readValueFromInstance:function(e,t){var n;return wt(t)?((n=sr(t))===null||n===void 0?void 0:n.default)||0:(t=va.has(t)?t:pa(t),e.getAttribute(t))},scrapeMotionValuesFromProps:ga,build:function(e,t,n,r,o){rr(t,n,r,o.transformTemplate)},render:ma})),Ff=function(e,t){return er(e)?Bf(t,{enableHardwareAcceleration:!1}):jf(t,{enableHardwareAcceleration:!0})};function yo(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}var it={correct:function(e,t){if(!t.target)return e;if(typeof e=="string")if(L.test(e))e=parseFloat(e);else return e;var n=yo(e,t.target.x),r=yo(e,t.target.y);return"".concat(n,"% ").concat(r,"%")}},bo="_$css",Nf={correct:function(e,t){var n=t.treeScale,r=t.projectionDelta,o=e,s=e.includes("var("),a=[];s&&(e=e.replace(Ua,function(g){return a.push(g),bo}));var i=$e.parse(e);if(i.length>5)return o;var l=$e.createTransformer(e),c=typeof i[0]!="number"?1:0,u=r.x.scale*n.x,f=r.y.scale*n.y;i[0+c]/=u,i[1+c]/=f;var p=q(u,f,.5);typeof i[2+c]=="number"&&(i[2+c]/=p),typeof i[3+c]=="number"&&(i[3+c]/=p);var h=l(i);if(s){var m=0;h=h.replace(bo,function(){var g=a[m];return m++,g})}return h}},zf=function(e){xi(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.componentDidMount=function(){var n=this,r=this.props,o=r.visualElement,s=r.layoutGroup,a=r.switchLayoutGroup,i=r.layoutId,l=o.projection;xu(Wf),l&&(s!=null&&s.group&&s.group.add(l),(a==null?void 0:a.register)&&i&&a.register(l),l.root.didUpdate(),l.addEventListener("animationComplete",function(){n.safeToRemove()}),l.setOptions(C(C({},l.options),{onExitComplete:function(){return n.safeToRemove()}}))),at.hasEverUpdated=!0},t.prototype.getSnapshotBeforeUpdate=function(n){var r=this,o=this.props,s=o.layoutDependency,a=o.visualElement,i=o.drag,l=o.isPresent,c=a.projection;return c&&(c.isPresent=l,i||n.layoutDependency!==s||s===void 0?c.willUpdate():this.safeToRemove(),n.isPresent!==l&&(l?c.promote():c.relegate()||ye.postRender(function(){var u;!((u=c.getStack())===null||u===void 0)&&u.members.length||r.safeToRemove()}))),null},t.prototype.componentDidUpdate=function(){var n=this.props.visualElement.projection;n&&(n.root.didUpdate(),!n.currentAnimation&&n.isLead()&&this.safeToRemove())},t.prototype.componentWillUnmount=function(){var n=this.props,r=n.visualElement,o=n.layoutGroup,s=n.switchLayoutGroup,a=r.projection;a&&(a.scheduleCheckAfterUnmount(),o!=null&&o.group&&o.group.remove(a),s!=null&&s.deregister&&s.deregister(a))},t.prototype.safeToRemove=function(){var n=this.props.safeToRemove;n==null||n()},t.prototype.render=function(){return null},t}(De.Component);function Uf(e){var t=J(Va(),2),n=t[0],r=t[1],o=v.exports.useContext(oa);return d(zf,{...C({},e,{layoutGroup:o,switchLayoutGroup:v.exports.useContext(ia),isPresent:n,safeToRemove:r})})}var Wf={borderRadius:C(C({},it),{applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]}),borderTopLeftRadius:it,borderTopRightRadius:it,borderBottomLeftRadius:it,borderBottomRightRadius:it,boxShadow:Nf},Hf={measureLayout:Uf};function Gf(e,t,n){n===void 0&&(n={});var r=xe(e)?e:Ze(e);return ur("",r,t,n),{stop:function(){return r.stop()},isAnimating:function(){return r.isAnimating()}}}var Ka=["TopLeft","TopRight","BottomLeft","BottomRight"],Kf=Ka.length,xo=function(e){return typeof e=="string"?parseFloat(e):e},Po=function(e){return typeof e=="number"||L.test(e)};function Xf(e,t,n,r,o,s){var a,i,l,c;o?(e.opacity=q(0,(a=n.opacity)!==null&&a!==void 0?a:1,Yf(r)),e.opacityExit=q((i=t.opacity)!==null&&i!==void 0?i:1,0,$f(r))):s&&(e.opacity=q((l=t.opacity)!==null&&l!==void 0?l:1,(c=n.opacity)!==null&&c!==void 0?c:1,r));for(var u=0;u<Kf;u++){var f="border".concat(Ka[u],"Radius"),p=So(t,f),h=So(n,f);if(!(p===void 0&&h===void 0)){p||(p=0),h||(h=0);var m=p===0||h===0||Po(p)===Po(h);m?(e[f]=Math.max(q(xo(p),xo(h),r),0),(dt.test(h)||dt.test(p))&&(e[f]+="%")):e[f]=h}}(t.rotate||n.rotate)&&(e.rotate=q(t.rotate||0,n.rotate||0,r))}function So(e,t){var n;return(n=e[t])!==null&&n!==void 0?n:e.borderRadius}var Yf=Xa(0,.5,Ci),$f=Xa(.5,.95,wi);function Xa(e,t,n){return function(r){return r<e?0:r>t?1:n(wn(e,t,r))}}function wo(e,t){e.min=t.min,e.max=t.max}function ue(e,t){wo(e.x,t.x),wo(e.y,t.y)}function Co(e,t,n,r,o){return e-=t,e=jt(e,1/n,r),o!==void 0&&(e=jt(e,1/o,r)),e}function Zf(e,t,n,r,o,s,a){if(t===void 0&&(t=0),n===void 0&&(n=1),r===void 0&&(r=.5),s===void 0&&(s=e),a===void 0&&(a=e),dt.test(t)){t=parseFloat(t);var i=q(a.min,a.max,t/100);t=i-a.min}if(typeof t=="number"){var l=q(s.min,s.max,r);e===s&&(l-=t),e.min=Co(e.min,t,n,l,o),e.max=Co(e.max,t,n,l,o)}}function To(e,t,n,r,o){var s=J(n,3),a=s[0],i=s[1],l=s[2];Zf(e,t[a],t[i],t[l],t.scale,r,o)}var qf=["x","scaleX","originX"],Jf=["y","scaleY","originY"];function Eo(e,t,n,r){To(e.x,t,qf,n==null?void 0:n.x,r==null?void 0:r.x),To(e.y,t,Jf,n==null?void 0:n.y,r==null?void 0:r.y)}function Io(e){return e.translate===0&&e.scale===1}function Ya(e){return Io(e.x)&&Io(e.y)}function $a(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}var Qf=function(){function e(){this.members=[]}return e.prototype.add=function(t){dr(this.members,t),t.scheduleRender()},e.prototype.remove=function(t){if(fr(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){var n=this.members[this.members.length-1];n&&this.promote(n)}},e.prototype.relegate=function(t){var n=this.members.findIndex(function(a){return t===a});if(n===0)return!1;for(var r,o=n;o>=0;o--){var s=this.members[o];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1},e.prototype.promote=function(t,n){var r,o=this.lead;if(t!==o&&(this.prevLead=o,this.lead=t,t.show(),o)){o.instance&&o.scheduleRender(),t.scheduleRender(),t.resumeFrom=o,n&&(t.resumeFrom.preserveOpacity=!0),o.snapshot&&(t.snapshot=o.snapshot,t.snapshot.latestValues=o.animationValues||o.latestValues,t.snapshot.isShared=!0),!((r=t.root)===null||r===void 0)&&r.isUpdating&&(t.isLayoutDirty=!0);var s=t.options.crossfade;s===!1&&o.hide()}},e.prototype.exitAnimationComplete=function(){this.members.forEach(function(t){var n,r,o,s,a;(r=(n=t.options).onExitComplete)===null||r===void 0||r.call(n),(a=(o=t.resumingFrom)===null||o===void 0?void 0:(s=o.options).onExitComplete)===null||a===void 0||a.call(s)})},e.prototype.scheduleRender=function(){this.members.forEach(function(t){t.instance&&t.scheduleRender(!1)})},e.prototype.removeLeadSnapshot=function(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)},e}(),ep="translate3d(0px, 0px, 0) scale(1, 1) scale(1, 1)";function _o(e,t,n){var r=e.x.translate/t.x,o=e.y.translate/t.y,s="translate3d(".concat(r,"px, ").concat(o,"px, 0) ");if(s+="scale(".concat(1/t.x,", ").concat(1/t.y,") "),n){var a=n.rotate,i=n.rotateX,l=n.rotateY;a&&(s+="rotate(".concat(a,"deg) ")),i&&(s+="rotateX(".concat(i,"deg) ")),l&&(s+="rotateY(".concat(l,"deg) "))}var c=e.x.scale*t.x,u=e.y.scale*t.y;return s+="scale(".concat(c,", ").concat(u,")"),s===ep?"none":s}var tp=function(e,t){return e.depth-t.depth},np=function(){function e(){this.children=[],this.isDirty=!1}return e.prototype.add=function(t){dr(this.children,t),this.isDirty=!0},e.prototype.remove=function(t){fr(this.children,t),this.isDirty=!0},e.prototype.forEach=function(t){this.isDirty&&this.children.sort(tp),this.isDirty=!1,this.children.forEach(t)},e}(),Vo=1e3;function Za(e){var t=e.attachResizeListener,n=e.defaultParent,r=e.measureScroll,o=e.checkIsScrollRoot,s=e.resetTransform;return function(){function a(i,l,c){var u=this;l===void 0&&(l={}),c===void 0&&(c=n==null?void 0:n()),this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.potentialNodes=new Map,this.checkUpdateFailed=function(){u.isUpdating&&(u.isUpdating=!1,u.clearAllSnapshots())},this.updateProjection=function(){u.nodes.forEach(lp),u.nodes.forEach(cp)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.id=i,this.latestValues=l,this.root=c?c.root||c:this,this.path=c?he(he([],J(c.path),!1),[c],!1):[],this.parent=c,this.depth=c?c.depth+1:0,i&&this.root.registerPotentialNode(i,this);for(var f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new np)}return a.prototype.addEventListener=function(i,l){return this.eventHandlers.has(i)||this.eventHandlers.set(i,new st),this.eventHandlers.get(i).add(l)},a.prototype.notifyListeners=function(i){for(var l=[],c=1;c<arguments.length;c++)l[c-1]=arguments[c];var u=this.eventHandlers.get(i);u==null||u.notify.apply(u,he([],J(l),!1))},a.prototype.hasListeners=function(i){return this.eventHandlers.has(i)},a.prototype.registerPotentialNode=function(i,l){this.potentialNodes.set(i,l)},a.prototype.mount=function(i,l){var c=this,u;if(l===void 0&&(l=!1),!this.instance){this.isSVG=i instanceof SVGElement&&i.tagName!=="svg",this.instance=i;var f=this.options,p=f.layoutId,h=f.layout,m=f.visualElement;if(m&&!m.getInstance()&&m.mount(i),this.root.nodes.add(this),(u=this.parent)===null||u===void 0||u.children.add(this),this.id&&this.root.potentialNodes.delete(this.id),l&&(h||p)&&(this.isLayoutDirty=!0),t){var g,x=function(){return c.root.updateBlockedByResize=!1};t(i,function(){c.root.updateBlockedByResize=!0,clearTimeout(g),g=window.setTimeout(x,250),at.hasAnimatedSinceResize&&(at.hasAnimatedSinceResize=!1,c.nodes.forEach(sp))})}p&&this.root.registerSharedNode(p,this),this.options.animate!==!1&&m&&(p||h)&&this.addEventListener("didUpdate",function(b){var y,P,S,w,T,E=b.delta,_=b.hasLayoutChanged,R=b.hasRelativeTargetChanged,M=b.layout;if(c.isTreeAnimationBlocked()){c.target=void 0,c.relativeTarget=void 0;return}var O=(P=(y=c.options.transition)!==null&&y!==void 0?y:m.getDefaultTransition())!==null&&P!==void 0?P:hp,B=m.getProps(),k=B.onLayoutAnimationStart,N=B.onLayoutAnimationComplete,K=!c.targetLayout||!$a(c.targetLayout,M)||R,te=!_&&R;if(((S=c.resumeFrom)===null||S===void 0?void 0:S.instance)||te||_&&(K||!c.currentAnimation)){c.resumeFrom&&(c.resumingFrom=c.resumeFrom,c.resumingFrom.resumingFrom=void 0),c.setAnimationOrigin(E,te);var Z=C(C({},cr(O,"layout")),{onPlay:k,onComplete:N});m.shouldReduceMotion&&(Z.delay=0,Z.type=!1),c.startAnimation(Z)}else!_&&c.animationProgress===0&&c.finishAnimation(),c.isLead()&&((T=(w=c.options).onExitComplete)===null||T===void 0||T.call(w));c.targetLayout=M})}},a.prototype.unmount=function(){var i,l;this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this),(i=this.getStack())===null||i===void 0||i.remove(this),(l=this.parent)===null||l===void 0||l.children.delete(this),this.instance=void 0,ft.preRender(this.updateProjection)},a.prototype.blockUpdate=function(){this.updateManuallyBlocked=!0},a.prototype.unblockUpdate=function(){this.updateManuallyBlocked=!1},a.prototype.isUpdateBlocked=function(){return this.updateManuallyBlocked||this.updateBlockedByResize},a.prototype.isTreeAnimationBlocked=function(){var i;return this.isAnimationBlocked||((i=this.parent)===null||i===void 0?void 0:i.isTreeAnimationBlocked())||!1},a.prototype.startUpdate=function(){var i;this.isUpdateBlocked()||(this.isUpdating=!0,(i=this.nodes)===null||i===void 0||i.forEach(up))},a.prototype.willUpdate=function(i){var l,c,u;if(i===void 0&&(i=!0),this.root.isUpdateBlocked()){(c=(l=this.options).onExitComplete)===null||c===void 0||c.call(l);return}if(!this.root.isUpdating&&this.root.startUpdate(),!this.isLayoutDirty){this.isLayoutDirty=!0;for(var f=0;f<this.path.length;f++){var p=this.path[f];p.shouldResetTransform=!0,p.updateScroll()}var h=this.options,m=h.layoutId,g=h.layout;if(!(m===void 0&&!g)){var x=(u=this.options.visualElement)===null||u===void 0?void 0:u.getProps().transformTemplate;this.prevTransformTemplateValue=x==null?void 0:x(this.latestValues,""),this.updateSnapshot(),i&&this.notifyListeners("willUpdate")}}},a.prototype.didUpdate=function(){var i=this.isUpdateBlocked();if(i){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Ao);return}!this.isUpdating||(this.isUpdating=!1,this.potentialNodes.size&&(this.potentialNodes.forEach(vp),this.potentialNodes.clear()),this.nodes.forEach(ap),this.nodes.forEach(rp),this.nodes.forEach(op),this.clearAllSnapshots(),un.update(),un.preRender(),un.render())},a.prototype.clearAllSnapshots=function(){this.nodes.forEach(ip),this.sharedNodes.forEach(dp)},a.prototype.scheduleUpdateProjection=function(){ye.preRender(this.updateProjection,!1,!0)},a.prototype.scheduleCheckAfterUnmount=function(){var i=this;ye.postRender(function(){i.isLayoutDirty?i.root.didUpdate():i.root.checkUpdateFailed()})},a.prototype.updateSnapshot=function(){if(!(this.snapshot||!this.instance)){var i=this.measure(),l=this.removeTransform(this.removeElementScroll(i));Lo(l),this.snapshot={measured:i,layout:l,latestValues:{}}}},a.prototype.updateLayout=function(){var i;if(!!this.instance&&(this.updateScroll(),!(!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))){if(this.resumeFrom&&!this.resumeFrom.instance)for(var l=0;l<this.path.length;l++){var c=this.path[l];c.updateScroll()}var u=this.measure();Lo(u);var f=this.layout;this.layout={measured:u,actual:this.removeElementScroll(u)},this.layoutCorrected=re(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.actual),(i=this.options.visualElement)===null||i===void 0||i.notifyLayoutMeasure(this.layout.actual,f==null?void 0:f.actual)}},a.prototype.updateScroll=function(){this.options.layoutScroll&&this.instance&&(this.isScrollRoot=o(this.instance),this.scroll=r(this.instance))},a.prototype.resetTransform=function(){var i;if(!!s){var l=this.isLayoutDirty||this.shouldResetTransform,c=this.projectionDelta&&!Ya(this.projectionDelta),u=(i=this.options.visualElement)===null||i===void 0?void 0:i.getProps().transformTemplate,f=u==null?void 0:u(this.latestValues,""),p=f!==this.prevTransformTemplateValue;l&&(c||Te(this.latestValues)||p)&&(s(this.instance,f),this.shouldResetTransform=!1,this.scheduleRender())}},a.prototype.measure=function(){var i=this.options.visualElement;if(!i)return re();var l=i.measureViewportBox(),c=this.root.scroll;return c&&(Ie(l.x,c.x),Ie(l.y,c.y)),l},a.prototype.removeElementScroll=function(i){var l=re();ue(l,i);for(var c=0;c<this.path.length;c++){var u=this.path[c],f=u.scroll,p=u.options,h=u.isScrollRoot;if(u!==this.root&&f&&p.layoutScroll){if(h){ue(l,i);var m=this.root.scroll;m&&(Ie(l.x,-m.x),Ie(l.y,-m.y))}Ie(l.x,f.x),Ie(l.y,f.y)}}return l},a.prototype.applyTransform=function(i,l){l===void 0&&(l=!1);var c=re();ue(c,i);for(var u=0;u<this.path.length;u++){var f=this.path[u];!l&&f.options.layoutScroll&&f.scroll&&f!==f.root&&Xe(c,{x:-f.scroll.x,y:-f.scroll.y}),Te(f.latestValues)&&Xe(c,f.latestValues)}return Te(this.latestValues)&&Xe(c,this.latestValues),c},a.prototype.removeTransform=function(i){var l,c=re();ue(c,i);for(var u=0;u<this.path.length;u++){var f=this.path[u];if(!!f.instance&&!!Te(f.latestValues)){ja(f.latestValues)&&f.updateSnapshot();var p=re(),h=f.measure();ue(p,h),Eo(c,f.latestValues,(l=f.snapshot)===null||l===void 0?void 0:l.layout,p)}}return Te(this.latestValues)&&Eo(c,this.latestValues),c},a.prototype.setTargetDelta=function(i){this.targetDelta=i,this.root.scheduleUpdateProjection()},a.prototype.setOptions=function(i){var l;this.options=C(C(C({},this.options),i),{crossfade:(l=i.crossfade)!==null&&l!==void 0?l:!0})},a.prototype.clearMeasurements=function(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1},a.prototype.resolveTargetDelta=function(){var i,l=this.options,c=l.layout,u=l.layoutId;!this.layout||!(c||u)||(!this.targetDelta&&!this.relativeTarget&&(this.relativeParent=this.getClosestProjectingParent(),this.relativeParent&&this.relativeParent.layout&&(this.relativeTarget=re(),this.relativeTargetOrigin=re(),ct(this.relativeTargetOrigin,this.layout.actual,this.relativeParent.layout.actual),ue(this.relativeTarget,this.relativeTargetOrigin))),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=re(),this.targetWithTransforms=re()),this.relativeTarget&&this.relativeTargetOrigin&&((i=this.relativeParent)===null||i===void 0?void 0:i.target)?nf(this.target,this.relativeTarget,this.relativeParent.target):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.actual):ue(this.target,this.layout.actual),Ba(this.target,this.targetDelta)):ue(this.target,this.layout.actual),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,this.relativeParent=this.getClosestProjectingParent(),this.relativeParent&&Boolean(this.relativeParent.resumingFrom)===Boolean(this.resumingFrom)&&!this.relativeParent.options.layoutScroll&&this.relativeParent.target&&(this.relativeTarget=re(),this.relativeTargetOrigin=re(),ct(this.relativeTargetOrigin,this.target,this.relativeParent.target),ue(this.relativeTarget,this.relativeTargetOrigin)))))},a.prototype.getClosestProjectingParent=function(){if(!(!this.parent||Te(this.parent.latestValues)))return(this.parent.relativeTarget||this.parent.targetDelta)&&this.parent.layout?this.parent:this.parent.getClosestProjectingParent()},a.prototype.calcProjection=function(){var i,l=this.options,c=l.layout,u=l.layoutId;if(this.isTreeAnimating=Boolean(((i=this.parent)===null||i===void 0?void 0:i.isTreeAnimating)||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!(!this.layout||!(c||u))){var f=this.getLead();ue(this.layoutCorrected,this.layout.actual),ff(this.layoutCorrected,this.treeScale,this.path,Boolean(this.resumingFrom)||this!==f);var p=f.target;if(!!p){this.projectionDelta||(this.projectionDelta=ut(),this.projectionDeltaWithTransform=ut());var h=this.treeScale.x,m=this.treeScale.y,g=this.projectionTransform;lt(this.projectionDelta,this.layoutCorrected,p,this.latestValues),this.projectionTransform=_o(this.projectionDelta,this.treeScale),(this.projectionTransform!==g||this.treeScale.x!==h||this.treeScale.y!==m)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p))}}},a.prototype.hide=function(){this.isVisible=!1},a.prototype.show=function(){this.isVisible=!0},a.prototype.scheduleRender=function(i){var l,c,u;i===void 0&&(i=!0),(c=(l=this.options).scheduleRender)===null||c===void 0||c.call(l),i&&((u=this.getStack())===null||u===void 0||u.scheduleRender()),this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)},a.prototype.setAnimationOrigin=function(i,l){var c=this,u;l===void 0&&(l=!1);var f=this.snapshot,p=(f==null?void 0:f.latestValues)||{},h=C({},this.latestValues),m=ut();this.relativeTarget=this.relativeTargetOrigin=void 0,this.attemptToResolveRelativeTarget=!l;var g=re(),x=f==null?void 0:f.isShared,b=(((u=this.getStack())===null||u===void 0?void 0:u.members.length)||0)<=1,y=Boolean(x&&!b&&this.options.crossfade===!0&&!this.path.some(pp));this.animationProgress=0,this.mixTargetDelta=function(P){var S,w=P/1e3;Ro(m.x,i.x,w),Ro(m.y,i.y,w),c.setTargetDelta(m),c.relativeTarget&&c.relativeTargetOrigin&&c.layout&&((S=c.relativeParent)===null||S===void 0?void 0:S.layout)&&(ct(g,c.layout.actual,c.relativeParent.layout.actual),fp(c.relativeTarget,c.relativeTargetOrigin,g,w)),x&&(c.animationValues=h,Xf(h,p,c.latestValues,w,y,b)),c.root.scheduleUpdateProjection(),c.scheduleRender(),c.animationProgress=w},this.mixTargetDelta(0)},a.prototype.startAnimation=function(i){var l=this,c,u;this.notifyListeners("animationStart"),(c=this.currentAnimation)===null||c===void 0||c.stop(),this.resumingFrom&&((u=this.resumingFrom.currentAnimation)===null||u===void 0||u.stop()),this.pendingAnimation&&(ft.update(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ye.update(function(){at.hasAnimatedSinceResize=!0,l.currentAnimation=Gf(0,Vo,C(C({},i),{onUpdate:function(f){var p;l.mixTargetDelta(f),(p=i.onUpdate)===null||p===void 0||p.call(i,f)},onComplete:function(){var f;(f=i.onComplete)===null||f===void 0||f.call(i),l.completeAnimation()}})),l.resumingFrom&&(l.resumingFrom.currentAnimation=l.currentAnimation),l.pendingAnimation=void 0})},a.prototype.completeAnimation=function(){var i;this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0),(i=this.getStack())===null||i===void 0||i.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")},a.prototype.finishAnimation=function(){var i;this.currentAnimation&&((i=this.mixTargetDelta)===null||i===void 0||i.call(this,Vo),this.currentAnimation.stop()),this.completeAnimation()},a.prototype.applyTransformsToTarget=function(){var i=this.getLead(),l=i.targetWithTransforms,c=i.target,u=i.layout,f=i.latestValues;!l||!c||!u||(ue(l,c),Xe(l,f),lt(this.projectionDeltaWithTransform,this.layoutCorrected,l,f))},a.prototype.registerSharedNode=function(i,l){var c,u,f;this.sharedNodes.has(i)||this.sharedNodes.set(i,new Qf);var p=this.sharedNodes.get(i);p.add(l),l.promote({transition:(c=l.options.initialPromotionConfig)===null||c===void 0?void 0:c.transition,preserveFollowOpacity:(f=(u=l.options.initialPromotionConfig)===null||u===void 0?void 0:u.shouldPreserveFollowOpacity)===null||f===void 0?void 0:f.call(u,l)})},a.prototype.isLead=function(){var i=this.getStack();return i?i.lead===this:!0},a.prototype.getLead=function(){var i,l=this.options.layoutId;return l?((i=this.getStack())===null||i===void 0?void 0:i.lead)||this:this},a.prototype.getPrevLead=function(){var i,l=this.options.layoutId;return l?(i=this.getStack())===null||i===void 0?void 0:i.prevLead:void 0},a.prototype.getStack=function(){var i=this.options.layoutId;if(i)return this.root.sharedNodes.get(i)},a.prototype.promote=function(i){var l=i===void 0?{}:i,c=l.needsReset,u=l.transition,f=l.preserveFollowOpacity,p=this.getStack();p&&p.promote(this,f),c&&(this.projectionDelta=void 0,this.needsReset=!0),u&&this.setOptions({transition:u})},a.prototype.relegate=function(){var i=this.getStack();return i?i.relegate(this):!1},a.prototype.resetRotation=function(){var i=this.options.visualElement;if(!!i){for(var l=!1,c={},u=0;u<Dn.length;u++){var f=Dn[u],p="rotate"+f;!i.getStaticValue(p)||(l=!0,c[p]=i.getStaticValue(p),i.setStaticValue(p,0))}if(!!l){i==null||i.syncRender();for(var p in c)i.setStaticValue(p,c[p]);i.scheduleRender()}}},a.prototype.getProjectionStyles=function(i){var l,c,u,f,p,h;i===void 0&&(i={});var m={};if(!this.instance||this.isSVG)return m;if(this.isVisible)m.visibility="";else return{visibility:"hidden"};var g=(l=this.options.visualElement)===null||l===void 0?void 0:l.getProps().transformTemplate;if(this.needsReset)return this.needsReset=!1,m.opacity="",m.pointerEvents=Rt(i.pointerEvents)||"",m.transform=g?g(this.latestValues,""):"none",m;var x=this.getLead();if(!this.projectionDelta||!this.layout||!x.target){var b={};return this.options.layoutId&&(b.opacity=(c=this.latestValues.opacity)!==null&&c!==void 0?c:1,b.pointerEvents=Rt(i.pointerEvents)||""),this.hasProjected&&!Te(this.latestValues)&&(b.transform=g?g({},""):"none",this.hasProjected=!1),b}var y=x.animationValues||x.latestValues;this.applyTransformsToTarget(),m.transform=_o(this.projectionDeltaWithTransform,this.treeScale,y),g&&(m.transform=g(y,m.transform));var P=this.projectionDelta,S=P.x,w=P.y;m.transformOrigin="".concat(S.origin*100,"% ").concat(w.origin*100,"% 0"),x.animationValues?m.opacity=x===this?(f=(u=y.opacity)!==null&&u!==void 0?u:this.latestValues.opacity)!==null&&f!==void 0?f:1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:m.opacity=x===this?(p=y.opacity)!==null&&p!==void 0?p:"":(h=y.opacityExit)!==null&&h!==void 0?h:0;for(var T in Mt)if(y[T]!==void 0){var E=Mt[T],_=E.correct,R=E.applyTo,M=_(y[T],x);if(R)for(var O=R.length,B=0;B<O;B++)m[R[B]]=M;else m[T]=M}return this.options.layoutId&&(m.pointerEvents=x===this?Rt(i.pointerEvents)||"":"none"),m},a.prototype.clearSnapshot=function(){this.resumeFrom=this.snapshot=void 0},a.prototype.resetTree=function(){this.root.nodes.forEach(function(i){var l;return(l=i.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(Ao),this.root.sharedNodes.clear()},a}()}function rp(e){e.updateLayout()}function op(e){var t,n,r,o,s=(n=(t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)!==null&&n!==void 0?n:e.snapshot;if(e.isLead()&&e.layout&&s&&e.hasListeners("didUpdate")){var a=e.layout,i=a.actual,l=a.measured;e.options.animationType==="size"?pe(function(y){var P=s.isShared?s.measured[y]:s.layout[y],S=Pe(P);P.min=i[y].min,P.max=P.min+S}):e.options.animationType==="position"&&pe(function(y){var P=s.isShared?s.measured[y]:s.layout[y],S=Pe(i[y]);P.max=P.min+S});var c=ut();lt(c,i,s.layout);var u=ut();s.isShared?lt(u,e.applyTransform(l,!0),s.measured):lt(u,i,s.layout);var f=!Ya(c),p=!1;if(!e.resumeFrom&&(e.relativeParent=e.getClosestProjectingParent(),e.relativeParent&&!e.relativeParent.resumeFrom)){var h=e.relativeParent,m=h.snapshot,g=h.layout;if(m&&g){var x=re();ct(x,s.layout,m.layout);var b=re();ct(b,i,g.actual),$a(x,b)||(p=!0)}}e.notifyListeners("didUpdate",{layout:i,snapshot:s,delta:u,layoutDelta:c,hasLayoutChanged:f,hasRelativeTargetChanged:p})}else e.isLead()&&((o=(r=e.options).onExitComplete)===null||o===void 0||o.call(r));e.options.transition=void 0}function ip(e){e.clearSnapshot()}function Ao(e){e.clearMeasurements()}function ap(e){var t=e.options.visualElement;t!=null&&t.getProps().onBeforeLayoutMeasure&&t.notifyBeforeLayoutMeasure(),e.resetTransform()}function sp(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0}function lp(e){e.resolveTargetDelta()}function cp(e){e.calcProjection()}function up(e){e.resetRotation()}function dp(e){e.removeLeadSnapshot()}function Ro(e,t,n){e.translate=q(t.translate,0,n),e.scale=q(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function Do(e,t,n,r){e.min=q(t.min,n.min,r),e.max=q(t.max,n.max,r)}function fp(e,t,n,r){Do(e.x,t.x,n.x,r),Do(e.y,t.y,n.y,r)}function pp(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}var hp={duration:.45,ease:[.4,0,.1,1]};function vp(e,t){for(var n=e.root,r=e.path.length-1;r>=0;r--)if(Boolean(e.path[r].instance)){n=e.path[r];break}var o=n&&n!==e.root?n.instance:document,s=o.querySelector('[data-projection-id="'.concat(t,'"]'));s&&e.mount(s,!0)}function Mo(e){e.min=Math.round(e.min),e.max=Math.round(e.max)}function Lo(e){Mo(e.x),Mo(e.y)}var mp=Za({attachResizeListener:function(e,t){return Zt(e,"resize",t)},measureScroll:function(){return{x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}},checkIsScrollRoot:function(){return!0}}),bn={current:void 0},gp=Za({measureScroll:function(e){return{x:e.scrollLeft,y:e.scrollTop}},defaultParent:function(){if(!bn.current){var e=new mp(0,{});e.mount(window),e.setOptions({layoutScroll:!0}),bn.current=e}return bn.current},resetTransform:function(e,t){e.style.transform=t!=null?t:"none"},checkIsScrollRoot:function(e){return Boolean(window.getComputedStyle(e).position==="fixed")}}),yp=C(C(C(C({},Qd),vd),Pf),Hf),Ct=yu(function(e,t){return Xu(e,t,yp,Ff,gp)}),Oo,ko,jo,Bo,Fo,No,zo,Uo,Wo,Ho,Go,Ko,Xo,Yo,$o,Zo,qo,Jo,Qo,ei,ti,ni,ri,oi,ii,ai,si;const bp=["badges","children","badgeProps"],xp=["children","minWidth","onCollapse","onExpand"],Pp=["id","type"],Sp=["params","payload"],wp=["params","payload"],Cp=["collapsed","status","lastUpdated"],Tp=["actionsBoxElement","activeIndex","children","id","onActionStart","onKeyDown","rootRef","states"],Ep=["actionsBoxElement","children"];function H(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function li(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?li(Object(n),!0).forEach(function(r){Ip(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):li(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ip(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Me(e,t){if(e==null)return{};var n=_p(e,t),r,o;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(o=0;o<s.length;o++)r=s[o],!(t.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,r)||(n[r]=e[r]))}return n}function _p(e,t){if(e==null)return{};var n={},r=Object.keys(e),o,s;for(s=0;s<r.length;s++)o=r[s],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}function hr(e){let{children:t,ms:n=0}=e;const[r,o]=v.exports.useState(n<=0);return v.exports.useEffect(()=>{if(n<=0)return;const s=setTimeout(()=>o(!0),n);return()=>{clearTimeout(s)}},[n]),!r||!t?d($,{}):typeof t=="function"?t():t}const vr=e=>{const{actions:t,children:n,actionProps:r,onActionComplete:o}=e;return d(Oi,{onReset:o,hooks:t,args:r,children:n})},Vp=e=>{const{badges:t,children:n,badgeProps:r}=e,o=Me(e,bp);return d(Oi,I(I({},o),{},{hooks:t,args:r,children:n}))},Ap=[];function Rp(e){const{children:t,flatIndex:n,index:r,params:o,payload:s,siblingIndex:a}=e,{navigate:i,navigateIntent:l}=St(),c=Ml(),u=v.exports.useMemo(()=>(c==null?void 0:c.panes)||Ap,[c==null?void 0:c.panes]),f=r-1,p=v.exports.useCallback(b=>{const y=u[f]||[],P=y[a],S=b(y,P),w=[...u.slice(0,f),S,...u.slice(f+1)],T=I(I({},c||{}),{},{panes:w});return setTimeout(()=>i(T),0),T},[f,i,u,c,a]),h=v.exports.useCallback(b=>{p((y,P)=>[...y.slice(0,a),I(I({},P),{},{payload:b}),...y.slice(a+1)])},[p,a]),m=v.exports.useCallback(b=>{p((y,P)=>[...y.slice(0,a),I(I({},P),{},{params:b}),...y.slice(a+1)])},[p,a]),g=v.exports.useCallback(b=>{let{id:y,parentRefPath:P,type:S,template:w}=b;i({panes:[...u.slice(0,f+1),[{id:y,params:{template:w.id,parentRefPath:Ll(P),type:S},payload:w.params}]]})},[f,i,u]),x=v.exports.useMemo(()=>({index:n,groupIndex:f,siblingIndex:a,payload:s,params:o,hasGroupSiblings:u[f]?u[f].length>1:!1,groupLength:u[f]?u[f].length:0,routerPanesState:u,ChildLink:Ol,BackLink:kl,ReferenceChildLink:jl,handleEditReference:g,ParameterizedLink:Bl,replaceCurrent:function(){let b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};p(()=>[{id:b.id||"",payload:b.payload,params:b.params||{}}])},closeCurrent:()=>{p((b,y)=>b.length>1?b.filter(P=>P!==y):b)},duplicateCurrent:b=>{p((y,P)=>{const S=I(I({},P),{},{payload:(b==null?void 0:b.payload)||P.payload,params:(b==null?void 0:b.params)||P.params});return[...y.slice(0,a),S,...y.slice(a)]})},setView:b=>{const y=Wn(o,"view");return m(b?I(I({},y),{},{view:b}):y)},setParams:m,setPayload:h,navigateIntent:l}),[n,f,g,p,l,o,s,u,m,h,a]);return d(Fl.Provider,{value:x,children:t})}function Dp(e,t,n,r){var o,s;const a={flex:e.left.flex+e.right.flex,width:e.left.width+e.right.width},i=(o=t.minWidth)!=null?o:Vn,l=(s=n.minWidth)!=null?s:Vn,c=Math.min(t.maxWidth||1/0,a.width-l),u=Math.min(n.maxWidth||1/0,a.width-i);let f=i-e.left.width;const p=e.right.width-u;f<p&&(f=p);let h=e.right.width-l;const m=c-e.left.width;h>m&&(h=m);const g=Math.min(Math.max(r,f),h),x=e.left.width+g,b=e.right.width-g,y=x/a.width*a.flex,P=b/a.width*a.flex;return{leftFlex:y,leftW:x,rightFlex:P,rightW:b}}function Mp(e,t){const n=[];let r=t;for(;r!==e;){const o=r.parentElement;if(!o)return n;const a=Array.from(o.childNodes).indexOf(r);if(n.unshift(a),o===e)return n;r=o}return n}const ci=[];function Lp(e,t){const n=new WeakMap;for(const o of t)n.set(o,Mp(e,o));const r=(o,s)=>{const a=n.get(o)||ci,i=n.get(s)||ci,l=Math.max(a.length,i.length);for(let c=0;c<l;c+=1){const u=a[c]||-1,f=i[c]||-1;if(u!==f)return u-f}return 0};t.sort(r)}function Op(){const e=[],t=[],n=new WeakMap,r=new Set,o={};let s=null,a=0,i=null,l=new Map,c=!1;function u(y){r.add(y),i===y&&(i=null),b()}function f(y){r.delete(y),i=y,b()}function p(y,P){return n.set(y,I(I({},P),{},{original:P})),t.push(y),s&&Lp(s,t),f(y),()=>{const S=t.indexOf(y);S>-1&&t.splice(S,1),n.delete(y),b()}}function h(y,P,S){var w,T,E,_;const R=t.indexOf(P),M=n.get(P);if(!M)return;const O=t[R+1],B=n.get(O);if(!!B){if(y==="start"&&(c=!0,o.left={element:P,flex:M.flex||1,width:P.offsetWidth},o.right={element:O,flex:B.flex||1,width:O.offsetWidth},b()),y==="move"&&o.left&&o.right){l=new Map;const{leftW:k,rightW:N,leftFlex:K,rightFlex:te}=Dp(o,M,B,S);l.set(P,{flex:K,width:k}),l.set(O,{flex:te,width:N}),b()}if(y==="end"){c=!1;const k=l.get(P),N=l.get(O);n.set(P,I(I({},M),{},{currentMinWidth:0,currentMaxWidth:(w=M.maxWidth)!=null?w:1/0,flex:(T=k==null?void 0:k.flex)!=null?T:M.flex})),n.set(O,I(I({},B),{},{currentMinWidth:0,currentMaxWidth:(E=M.maxWidth)!=null?E:1/0,flex:(_=N==null?void 0:N.flex)!=null?_:B.flex})),l=new Map,delete o.left,delete o.right,b()}}}function m(y){s=y}function g(y){a=y,b()}function x(y){return e.push(y),()=>{const P=e.push(y);P>-1&&e.splice(P,1)}}return{collapse:u,expand:f,mount:p,resize:h,setRootElement:m,setRootWidth:g,subscribe:x};function b(){var y,P,S,w;if(!a)return;const T=[];for(const k of t)k!==i&&T.unshift(k);i&&T.unshift(i);const E=new WeakMap,_=T.length,R=T[0],M=(_-1)*pn;let O=a-M;for(const k of T){const N=n.get(k);if(!N)continue;const K=N.currentMinWidth||N.minWidth||Vn,te=k===R,Z=r.has(k),ie=K>O,X=te?!1:Z||ie,se=l.get(k);E.set(k,{element:k,collapsed:X,currentMinWidth:(y=se==null?void 0:se.width)!=null?y:N.currentMinWidth,currentMaxWidth:(P=se==null?void 0:se.width)!=null?P:N.currentMaxWidth,flex:(w=(S=se==null?void 0:se.flex)!=null?S:N.flex)!=null?w:1}),X?O-=pn:O-=K-pn}const B=[];for(const k of t){const N=E.get(k);N&&B.push(N)}for(const k of e)k({expandedElement:i||t[t.length-1]||null,panes:B,resizing:c})}}function kp(e){const{children:t,minWidth:n,onCollapse:r,onExpand:o}=e,s=Me(e,xp),a=v.exports.useMemo(()=>Op(),[]),[i,l]=v.exports.useState(null),c=Wt(i),u=(c==null?void 0:c.width)||0,f=u===void 0||!n?void 0:u<n,[p,h]=v.exports.useState({expandedElement:null,panes:[],resizing:!1});v.exports.useEffect(()=>a.setRootElement(i),[a,i]),v.exports.useEffect(()=>a.setRootWidth(u),[a,u]),v.exports.useEffect(()=>a.subscribe(h),[a]),v.exports.useEffect(()=>{f!==void 0&&(f&&r&&r(),!f&&o&&o())},[f,r,o]);const m=v.exports.useMemo(()=>({collapse:a.collapse,collapsed:f,expand:a.expand,expandedElement:p.expandedElement,mount:a.mount,panes:p.panes,resize:a.resize,resizing:p.resizing}),[f,a,p.expandedElement,p.panes,p.resizing]);return d(Nl.Provider,{value:m,children:d(zl,I(I({"data-ui":"PaneLayout"},s),{},{"data-collapsed":f?"":void 0,"data-resizing":p.resizing?"":void 0,"data-mounted":u?"":void 0,ref:l,children:t}))})}class qe extends Error{constructor(t){let{message:n,context:r,helpId:o,cause:s}=t;super(n),this.context=r,this.helpId=o,this.cause=s}}const ui=new WeakMap;function qt(e){const t=ui.get(e);if(t)return t;const n=Bc();return ui.set(e,n),n}const di=new WeakMap;function qa(e,t){const n=di.get(e)||new Map;if(n){const s=n.get(t);if(s)return s}const r=e[t];if(typeof r!="function")throw new Error("Expected property `".concat(t,"` to be a function but got ").concat(typeof r," instead."));const o=r.bind(e);return n.set(t,o),di.set(e,n),o}const jp=e=>Le(e)?typeof e.subscribe=="function"||typeof e.then=="function":!1,Bp=e=>Le(e)?typeof e.serialize=="function":!1,Fp=e=>(t,n,r)=>{try{return e(t,n,r)}catch(o){throw o instanceof qe?o:new qe({message:typeof(o==null?void 0:o.message)=="string"?o.message:"",context:n,cause:o})}},Np=e=>function(){return e(...arguments).pipe(Fc(1),Nc())};function Ja(e){const t=Fp(Np(e((n,r,o)=>{if(!n)throw new qe({message:"Pane returned no child",context:r,helpId:"structure-item-returned-no-child"});return jp(n)?ji(n).pipe(Ht(s=>t(s,r,o))):Bp(n)?t(n.serialize(r),r,o):typeof n=="function"?t(n(r.id,r),r,o):Re(n)})));return t}async function zp(e){const t=new Map,r=Ja(l=>(c,u,f)=>{const p=c&&"".concat(qt(c),"-").concat(u.path.join("__")),h=p&&t.get(p);if(h)return h;const m=l(c,u,f);return p&&t.set(p,m),m}),o=[[{id:"__edit__".concat(e.params.id),params:I(I({},Wn(e.params,["id"])),{},{type:e.params.type}),payload:e.payload}]];async function s(l){let{currentId:c,flatIndex:u,intent:f,params:p,parent:h,path:m,payload:g,unresolvedPane:x,levelIndex:b,structureContext:y}=l;var P;if(!x)return[];const{id:S,type:w}=p,T=Me(p,Pp),_=await r(x,{id:c,splitIndex:0,parent:h,path:m,index:u,params:{},payload:void 0,structureContext:y},u).pipe(Zi()).toPromise();return _.type==="document"&&_.id===S?[{panes:[...m.slice(0,m.length-1).map(R=>[{id:R}]),[{id:S,params:T,payload:g}]],depthIndex:m.length,levelIndex:b}]:((P=_.canHandleIntent)==null?void 0:P.call(_,f,p,{pane:_,index:u}))||_.type==="documentList"&&_.schemaTypeName===w&&_.options.filter==="_type == $type"?[{panes:[...m.map(R=>[{id:R}]),[{id:p.id,params:T,payload:g}]],depthIndex:m.length,levelIndex:b}]:_.type==="list"&&_.child&&_.items?(await Promise.all(_.items.map((R,M)=>R.type==="divider"?Promise.resolve([]):s({currentId:R._id||R.id,flatIndex:u+1,intent:f,params:p,parent:_,path:[...m,R.id],payload:g,unresolvedPane:typeof _.child=="function"?qa(_,"child"):_.child,levelIndex:M,structureContext:y})))).flat():[]}const i=(await s({currentId:"root",flatIndex:0,levelIndex:0,intent:e.intent,params:e.params,parent:null,path:[],payload:e.payload,unresolvedPane:e.rootPaneNode,structureContext:e.structureContext})).sort((l,c)=>l.depthIndex===c.depthIndex?l.levelIndex-c.levelIndex:l.depthIndex-c.depthIndex)[0];return i?i.panes:o}function Fe(){const e=v.exports.useContext(tl);if(!e)throw new Error("DeskTool: missing context value");return e}const Up=(e,t)=>{const n=e.replace(/^__edit__/,""),{params:r,payload:o,structureContext:{resolveDocumentNode:s}}=t,{type:a,template:i}=r;if(!a)throw new Error("Document type for document with ID ".concat(n," was not provided in the router params."));let l=s({schemaType:a,documentId:n});return l=l.id("editor").title("Editor"),i&&(l=l.initialValueTemplate(i,o)),l.serialize()};function Wp(e){var t,n;return"contextHash(".concat(JSON.stringify({id:e.id,parentId:parent&&qt(parent),path:e.path,index:e.index,splitIndex:e.splitIndex,serializeOptionsIndex:(t=e.serializeOptions)==null?void 0:t.index,serializeOptionsPath:(n=e.serializeOptions)==null?void 0:n.path}),")")}const fi=e=>{const t={type:e.type,id:e.routerPaneSibling.id,params:e.routerPaneSibling.params||{},payload:e.routerPaneSibling.payload||null,flatIndex:e.flatIndex,groupIndex:e.groupIndex,siblingIndex:e.siblingIndex,path:e.path,paneNode:e.type==="resolvedMeta"?qt(e.paneNode):null};return"metaHash(".concat(JSON.stringify(t),")")};function Dt(e){let{unresolvedPane:t,flattenedRouterPanes:n,parent:r,path:o,resolvePane:s,structureContext:a}=e;const[i,...l]=n,c=l[0],u={id:i.routerPaneSibling.id,splitIndex:i.siblingIndex,parent:r,path:[...o,i.routerPaneSibling.id],index:i.flatIndex,params:i.routerPaneSibling.params||{},payload:i.routerPaneSibling.payload,structureContext:a};try{return s(t,u,i.flatIndex).pipe(Ht(f=>{const p=I(I({type:"resolvedMeta"},i),{},{paneNode:f,path:u.path}),h=l.map((g,x)=>{const b=[...u.path,...l.slice(x).map((P,S)=>"[".concat(g.flatIndex+S,"]"))];return I({type:"loading",path:b,paneNode:null},g)});if(!l.length)return Re([p]);let m;return c!=null&&c.routerPaneSibling.id.startsWith("__edit__")?m=Dt({unresolvedPane:Up,flattenedRouterPanes:l,parent:r,path:u.path,resolvePane:s,structureContext:a}):i.groupIndex===(c==null?void 0:c.groupIndex)?m=Dt({unresolvedPane:t,flattenedRouterPanes:l,parent:r,path:o,resolvePane:s,structureContext:a}):m=Dt({unresolvedPane:typeof f.child=="function"?qa(f,"child"):f.child,flattenedRouterPanes:l,parent:f,path:u.path,resolvePane:s,structureContext:a}),Bi(Re([p,...h]),m.pipe(Be(g=>[p,...g])))}))}catch(f){if(f instanceof qe&&(f.context&&console.warn("Pane resolution error at index ".concat(f.context.index).concat(f.context.splitIndex>0?" for split pane index ".concat(f.context.splitIndex):"",": ").concat(f.message).concat(f.helpId?" - see ".concat(Gi(f.helpId)):""),f),f.helpId==="structure-item-returned-no-child"))return Re([]);throw f}}function Hp(e){let{routerPanesStream:t,rootPaneNode:n,initialCacheState:r={cacheKeysByFlatIndex:[],flattenedRouterPanes:[],resolvedPaneCache:new Map,resolvePane:()=>Ec},structureContext:o}=e;return t.pipe(Be(a=>[[{id:"root"}],...a]),Be(a=>a.flatMap((l,c)=>l.map((u,f)=>({routerPaneSibling:u,groupIndex:c,siblingIndex:f}))).map((l,c)=>I(I({},l),{},{flatIndex:c}))),ic([]),Yc(),Be(a=>{let[i,l]=a;for(let c=0;c<l.length;c++){const u=i[c],f=l[c];if(!Cn(u,f))return{flattenedRouterPanes:l,diffIndex:c}}return{flattenedRouterPanes:l,diffIndex:l.length}}),Mr((a,i)=>{const{cacheKeysByFlatIndex:l,resolvedPaneCache:c}=a,{flattenedRouterPanes:u,diffIndex:f}=i,p=l.slice(0,f+1),h=l.slice(f+1),m=new Set(p.flatMap(b=>Array.from(b))),g=h.flatMap(b=>Array.from(b)).filter(b=>!m.has(b));for(const b of g)c.delete(b);return{flattenedRouterPanes:u,cacheKeysByFlatIndex:l,resolvedPaneCache:c,resolvePane:Ja(b=>(y,P,S)=>{const w=y&&"".concat(qt(y),"-").concat(Wp(P)),T=w&&c.get(w);if(T)return T;const E=b(y,P,S);if(!w)return E;const _=l[S]||new Set;return _.add(w),l[S]=_,c.set(w,E),E})}},r),Ht(a=>{let{flattenedRouterPanes:i,resolvePane:l}=a;return Dt({unresolvedPane:n,flattenedRouterPanes:i,parent:null,path:[],resolvePane:l,structureContext:o})})).pipe(Mr((a,i)=>i.map((l,c)=>{const u=a[c];return!u||l.type!=="loading"?l:u.routerPaneSibling.id===l.routerPaneSibling.id?u:l}),[]),bi((a,i)=>{if(a.length!==i.length)return!1;for(let l=0;l<i.length;l++){const c=a[l],u=i[l];if(fi(c)!==fi(u))return!1}return!0}))}function Gp(){const e=v.exports.useMemo(()=>new ac(1),[]),t=v.exports.useMemo(()=>e.asObservable().pipe(Be(r=>(r==null?void 0:r.panes)||[])),[e]),{state:n}=St();return v.exports.useEffect(()=>{e.next(n)},[n,e]),t}function Kp(){const[e,t]=v.exports.useState();if(e)throw e;const{structureContext:n,rootPaneNode:r}=Fe(),[o,s]=v.exports.useState({paneDataItems:[],resolvedPanes:[],routerPanes:[]}),a=Gp();return v.exports.useEffect(()=>{const l=Hp({rootPaneNode:r,routerPanesStream:a,structureContext:n}).pipe(Be(c=>{const u=c.reduce((h,m)=>{const g=h[m.groupIndex]||[];return g[m.siblingIndex]=m.routerPaneSibling,h[m.groupIndex]=g,h},[]),f=u.length,p=c.map(h=>{var m;const{groupIndex:g,flatIndex:x,siblingIndex:b,routerPaneSibling:y,path:P}=h,S=y.id,w=u[g+1];return{active:g===f-2,childItemId:(m=w==null?void 0:w[0].id)!=null?m:null,index:x,itemId:y.id,groupIndex:g,key:"".concat(h.type==="loading"?"unknown":h.paneNode.id,"-").concat(S,"-").concat(b),pane:h.type==="loading"?En:h.paneNode,params:y.params||{},path:P.join(";"),payload:y.payload,selected:x===c.length-1,siblingIndex:b}});return{paneDataItems:p,routerPanes:u,resolvedPanes:p.map(h=>h.pane)}})).subscribe({next:c=>s(c),error:c=>t(c)});return()=>l.unsubscribe()},[r,a,n]),o}function Xp(e){let{panes:t}=e;const{navigate:n}=St();return v.exports.useEffect(()=>{n({panes:t},{replace:!0})},[n,t]),d(be,{height:"fill",children:d(hr,{ms:300,children:D(W,{align:"center",direction:"column",height:"fill",justify:"center",children:[d(Je,{muted:!0}),d(j,{marginTop:3,children:d(F,{muted:!0,size:1,children:"Redirecting\u2026"})})]})})})}async function Yp(e,t,n){if(t&&n)return{id:t,type:n};if(!t&&n)return{id:zc(),type:n};if(t&&!n){const r=await e.resolveTypeForDocument(t).pipe(Zi()).toPromise();return{id:t,type:r}}throw new qe({message:"Neither document `id` or `type` was provided when trying to resolve intent."})}function $p(e){let{intent:t,params:n={},payload:r}=e;const{rootPaneNode:o,structureContext:s}=Fe(),a=Hi(),i=Ee(n),l=Ee(r),[c,u]=v.exports.useState(null),[f,p]=v.exports.useState(null),h=typeof i.id=="string"?i.id:void 0,m=typeof i.type=="string"?i.type:void 0;if(v.exports.useEffect(()=>{const g={current:!1};async function x(){const{id:b,type:y}=await Yp(a,h,m);return zp({intent:t,params:I(I({},i),{},{id:b,type:y}),payload:l,rootPaneNode:o,structureContext:s})}return x().then(b=>{g.current||u(b)}).catch(p),()=>{g.current=!0}},[a,h,t,i,l,o,s,m]),f)throw f;return c?d(Xp,{panes:c}):d(be,{height:"fill",children:d(hr,{ms:300,children:D(W,{align:"center",direction:"column",height:"fill",justify:"center",children:[d(Je,{muted:!0}),d(j,{marginTop:3,children:d(F,{align:"center",muted:!0,size:1,children:"Loading\u2026"})})]})})})}const Zp=Y.span(Oo||(Oo=H([`
  &:not(:last-child)::after {
    content: ' \u279D ';
    opacity: 0.5;
  }
`])));function qp(e){return e.replace(/\(\.\.\.\)\./g,`(...)
  .`).replace(/__WEBPACK_IMPORTED_MODULE_\d+_+/g,"").replace(/___default\./g,".").replace(new RegExp(" \\(https?:\\/\\/".concat(window.location.host),"g")," (")}function Jp(e){let{error:t}=e;if(!(t instanceof qe))throw t;const{cause:n}=t,r=(n==null?void 0:n.stack)||t.stack,o=r&&!(n instanceof fn)&&!t.message.includes("Module build failed:"),s=n instanceof fn?n.path:[],a=n instanceof fn&&n.helpId||t.helpId,i=v.exports.useCallback(()=>{window.location.reload()},[]);return d(be,{height:"fill",overflow:"auto",padding:4,sizing:"border",tone:"critical",children:D(xt,{children:[d(sc,{as:"h2",children:"Encountered an error while reading structure"}),D(be,{marginTop:4,padding:4,radius:2,overflow:"auto",shadow:1,tone:"inherit",children:[s.length>0&&D(ve,{space:2,children:[d(Lr,{children:"Structure path"}),d(_n,{children:s.slice(1).map((l,c)=>d(Zp,{children:l},"".concat(l,"-").concat(c)))})]}),D(ve,{marginTop:4,space:2,children:[d(Lr,{children:"Error"}),d(_n,{children:o?qp(r):t.message})]}),a&&d(j,{marginTop:4,children:d(F,{children:d("a",{href:Gi(a),rel:"noopener noreferrer",target:"_blank",children:"View documentation"})})}),d(j,{marginTop:4,children:d(oe,{text:"Reload",icon:Di,tone:"primary",onClick:i})})]})]})})}function Qp(e){const{isSelected:t,pane:n,paneKey:r}=e,o=Le(n)&&n.type||null;return D(Ft,{id:r,selected:t,children:[d(Ut,{title:"Unknown pane type"}),d(yt,{children:d(j,{padding:4,children:typeof o=="string"?D(F,{as:"p",muted:!0,children:["Structure item of type ",d("code",{children:o})," is not a known entity."]}):D(F,{as:"p",muted:!0,children:["Structure item is missing required ",d("code",{children:"type"})," property."]})})})]})}function eh(e){const t=[{ms:300,message:"Loading\u2026"},{ms:5e3,message:"Still loading\u2026"}],n=Re(null);return lc(...t.map(r=>{let{ms:o,message:s}=r;return n.pipe(cc(s),uc(o))}))}const th="Loading\u2026",nh=Y(W)(ko||(ko=H([`
  opacity: 0;
  transition: opacity 200ms;

  &[data-mounted] {
    opacity: 1;
  }
`]))),Jt=v.exports.memo(e=>{const{delay:t=300,flex:n,message:r=eh,minWidth:o,paneKey:s,path:a,selected:i,title:l,tone:c}=e,u=v.exports.useMemo(()=>typeof r=="function"?r(a?a.split(";"):[]):r,[r,a]),[f,p]=v.exports.useState(()=>typeof u=="string"?u:th);v.exports.useEffect(()=>{if(typeof u!="object"||typeof u.subscribe=="function")return;const y=u.subscribe(p);return()=>y.unsubscribe()},[u]);const[h,m]=v.exports.useState(null),[g,x]=v.exports.useState(!1);return v.exports.useEffect(()=>{if(!!h)return nl(()=>x(!0))},[h]),d(Ft,{flex:n,id:s,minWidth:o,selected:i,tone:c,children:d(yt,{children:D(nh,{align:"center","data-mounted":g?"":void 0,direction:"column",height:"fill",justify:"center",ref:m,children:[d(Je,{muted:!0}),(l||f)&&d(j,{marginTop:3,children:d(F,{align:"center",muted:!0,size:1,children:l||f})})]})})})});Jt.displayName="LoadingPane";const rh={component:v.exports.lazy(()=>It(()=>import("./index-5af9f947.esm.23f12746.js"),["static/index-5af9f947.esm.23f12746.js","static/sanity.c38ca016.js","static/index.f553bc31.js"])),document:v.exports.lazy(()=>It(()=>import("./index-2c7f4ac3.esm.eb509eaf.js"),["static/index-2c7f4ac3.esm.eb509eaf.js","static/sanity.c38ca016.js","static/index.f553bc31.js"])),documentList:v.exports.lazy(()=>It(()=>import("./index-a58953fd.esm.4890ae47.js"),["static/index-a58953fd.esm.4890ae47.js","static/sanity.c38ca016.js","static/PaneItem-e34be016.esm.ea287301.js","static/index.f553bc31.js"])),list:v.exports.lazy(()=>It(()=>import("./index-27396ecb.esm.8ad692b2.js"),["static/index-27396ecb.esm.8ad692b2.js","static/sanity.c38ca016.js","static/PaneItem-e34be016.esm.ea287301.js","static/index.f553bc31.js"]))},oh=v.exports.memo(function(t){const{active:n,childItemId:r,groupIndex:o,index:s,itemId:a,pane:i,paneKey:l,params:c,payload:u,selected:f,siblingIndex:p}=t,h=rh[i.type]||Qp;return d(Rp,{flatIndex:s,index:o,params:c,payload:u,siblingIndex:p,children:d(v.exports.Suspense,{fallback:d(Jt,{paneKey:l}),children:d(h,{childItemId:r||"",index:s,itemId:a,isActive:n,isSelected:f,paneKey:l,pane:i})})})},(e,t)=>{let{params:n={},payload:r=null}=t,o=Me(t,Sp),{params:s={},payload:a=null}=e,i=Me(e,wp);if(!Cn(s,n)||!Cn(a,r))return!1;const l=new Set([...Object.keys(i),...Object.keys(o)]);for(const c of l)if(i[c]!==o[c])return!1;return!0});function Qa(e){const{children:t,flex:n,minWidth:r,paneKey:o,title:s="Error",tone:a="critical"}=e;return D(Ft,{flex:n,id:o,minWidth:r,tone:a,children:[d(Ut,{title:s}),d(yt,{overflow:"auto",children:d(j,{paddingX:4,paddingY:5,children:t})})]})}function ih(e){return e==="delete"?`An error occurred while attempting to delete this document.
      This usually means that there are other documents that refers to it.`:e==="unpublish"?`An error occurred while attempting to unpublish this document.
      This usually means that there are other documents that refers to it.`:"An error occurred during ".concat(e)}function ah(e){return e==="publish"?"The document was published":e==="unpublish"?"The document was unpublished. A draft has been created from the latest published version.":e==="discardChanges"?"All changes since last publish has now been discarded. The discarded draft can still be recovered from history":e==="delete"?"This document was deleted. It can still be recovered from history and if you continue editing it will be recreated.":"Successfully performed ".concat(e," on document")}const sh=["patch","commit"],lh=v.exports.memo(function(){const{push:t}=Nt(),{documentId:n,documentType:r}=Q(),o=rl(n,r),s=v.exports.useRef(o);return v.exports.useEffect(()=>{!o||o===s.current||(o.type==="error"&&t({closable:!0,duration:3e4,status:"error",title:ih(o.op),description:D("details",{children:[d("summary",{children:"Details"}),o.error.message]})}),o.type==="success"&&!sh.includes(o.op)&&t({closable:!0,status:"success",title:ah(o.op)}),s.current=o)},[o,t]),null}),ch=e=>{const{features:t,hasValue:n,changesOpen:r}=e;return t.reviewChanges?{action:"reviewChanges",title:"Review changes",icon:dc,isDisabled:r||!n}:null},uh=e=>{let{hasValue:t}=e;return{action:"inspect",title:"Inspect",icon:fc,isDisabled:!t,shortcut:"Ctrl+Alt+I"}},dh=e=>{let{previewUrl:t}=e;return t?{action:"production-preview",title:"Open preview",icon:pc,shortcut:"Ctrl+Alt+O"}:null},fh=e=>[dh,ch,uh].filter(Boolean).map(n=>n(e)).filter(n=>n!==null),ph=e=>Le(e)&&typeof e._id=="string"&&typeof e._type=="string";function hh(e){const[t,n]=v.exports.useState(void 0),[r,o]=v.exports.useState(null),{resolveProductionUrl:s}=zt().document,a=qc(e);if(r)throw r;return v.exports.useEffect(()=>{a.pipe(ki(500),Ht(i=>ph(i)?ji(s({document:i})):Re(void 0)),Ul(i=>{const l=Le(i)&&typeof i.message=="string"?i.message:"Unknown error";throw new Error("An error was thrown while trying to get your preview url: ".concat(l))})).subscribe({next:n,error:o})},[s,a]),t}function vh(e,t){const n=t.panePayload||{},r=t.templateName;t.urlTemplate&&r&&r!==t.urlTemplate&&console.warn('Conflicting templates: URL says "'.concat(t.urlTemplate,'", structure node says "').concat(r,'". Using "').concat(r,'".'));const o=r||t.urlTemplate,s=e.filter(l=>l.schemaType===t.documentType),a=I(I({},t.templateParams),typeof n=="object"?n||{}:{});let i=o;return!o&&s.length===1&&(i=s[0].id),{templateName:i,templateParams:a}}const mh={},es=v.exports.memo(e=>{const{children:t,index:n,pane:r,paneKey:o}=e,s=ol(il),a=Ei(),i=Ii(),{actions:l,badges:c,unstable_languageFilter:u}=zt().document,f=al(),p=sl(),h=bt(),{features:m}=Fe(),{push:g}=Nt(),{options:x,menuItemGroups:b,title:y=null,views:P=[]}=r,S=Ee(x),w=S.id,T=Tn(w),E=x.type,_=Ee(h.params),R=Ee(h.payload),{templateName:M,templateParams:O}=v.exports.useMemo(()=>vh(i,{documentType:E,templateName:S.template,templateParams:S.templateParameters,panePayload:R,urlTemplate:_==null?void 0:_.template}),[E,S,_,R,i]),B=ll({documentId:T,documentType:E,templateName:M,templateParams:O}),k=Ee(B),{patch:N}=cl(T,E),K=ul(T,E),{validation:te}=dl(T,E),Z=fl(T,E),ie=a.get(E),X=(K==null?void 0:K.draft)||(K==null?void 0:K.published)||k.value,se=v.exports.useMemo(()=>l({schemaType:E,documentId:T}),[l,T,E]),Se=v.exports.useMemo(()=>c({schemaType:E,documentId:T}),[c,T,E]),ne=v.exports.useMemo(()=>u({schemaType:E,documentId:T}),[T,E,u]),z=Ee(te),V=Ee(P),A=h.params||mh,[ee,ce]=v.exports.useState(()=>A.path?pt(A.path):[]),Ne=A.view||V[0]&&V[0].id||null,Oe=v.exports.useMemo(()=>f.getTimeline({publishedId:T,enableTrace:_i}),[T,f]),[cs,us]=v.exports.useState("closed"),{historyController:we}=Vi(()=>f.getTimelineController({client:s,documentId:T,documentType:E,timeline:Oe}),[s,T,E,Oe]);we.setRange(A.since||null,A.rev||null);const et=we.changesPanelActive(),ze=hh(X),[ds,fs]=v.exports.useState([]);v.exports.useEffect(()=>{const U=p.documentPresence(T).subscribe(ae=>{fs(ae)});return()=>{U.unsubscribe()}},[T,p]);const gr=Boolean(X),Qt=v.exports.useMemo(()=>fh({features:m,hasValue:gr,changesOpen:et,previewUrl:ze}),[m,gr,et,ze]),en=A.inspect==="on",yr=et?we.sinceAttributes():(K==null?void 0:K.published)||null,tn=Z==="connected"&&K.ready,br=we.onOlderRevision(),xr=v.exports.useMemo(()=>br?we.displayed()||{_id:X._id,_type:X._type}:X,[we,A.rev,A.since,X,br]),ps=v.exports.useCallback((U,ae)=>{h.setParams(I(I({},h.params),{},{since:U,rev:ae||void 0}))},[h]),hs=v.exports.useCallback(U=>{ce(U),p.setLocation([{type:"document",documentId:T,path:U,lastActiveAt:new Date().toISOString()}])},[T,p,ce]),vs=v.exports.useCallback(U=>{ce([])},[ce]),Pr=v.exports.useRef(()=>{throw new Error("Nope")});Pr.current=U=>{N.execute(pl(U.patches),k.value)};const ms=v.exports.useCallback(U=>Pr.current(U),[]),gs=v.exports.useCallback(()=>{h.setParams(I(I({},A),{},{since:void 0}))},[h,A]),nn=v.exports.useCallback(()=>{h.setParams(I(I({},A),{},{since:"@lastPublished"}))},[h,A]),ys=v.exports.useCallback(()=>h.closeCurrent(),[h]),bs=v.exports.useCallback(()=>h.duplicateCurrent(),[h]),Tt=v.exports.useCallback(function(){(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!en)?h.setParams(I(I({},A),{},{inspect:"on"})):h.setParams(Wn(A,"inspect"))},[en,h,A]),rn=v.exports.useCallback(U=>U.action==="production-preview"&&ze?(window.open(ze),!0):U.action==="inspect"?(Tt(!0),!0):U.action==="reviewChanges"?(nn(),!0):!1,[nn,ze,Tt]),xs=v.exports.useCallback(U=>{for(const ae of Qt)if(ae.shortcut&&Hn(ae.shortcut,U)){U.preventDefault(),U.stopPropagation(),rn(ae);return}},[rn,Qt]),Ps=v.exports.useCallback(()=>Tt(!1),[Tt]),[Ss,ws]=v.exports.useState([]),[Cs,Sr]=v.exports.useState(),[wr,Cr]=v.exports.useState(),[Tr,Er]=v.exports.useState(),Ts=v.exports.useCallback((U,ae)=>{Cr(le=>Ue(le,U,ae))},[]),Es=v.exports.useCallback((U,ae)=>{Er(le=>Ue(le,U,ae))},[]),Is=v.exports.useCallback((U,ae)=>Sr(le=>Ue(le,U,ae)),[]),_s=X._createdAt?"update":"create",Ir=v.exports.useMemo(()=>Boolean(ie==null?void 0:ie.liveEdit),[E,a]),on=X._id?X._id:"dummy-id",Vs=v.exports.useMemo(()=>I(I({},X),{},{_id:Ir?Tn(on):hl(on)}),[Ir,X,on]),[tt,an]=vl({document:Vs,permission:_s}),{revTime:_r}=we,Vr=!(X!=null&&X._id),As=v.exports.useMemo(()=>!tn||_r!==null||!an&&!(tt!=null&&tt.granted)||!Rr(ie,"update")||Vr&&!Rr(ie,"create"),[Vr,an,tt==null?void 0:tt.granted,tn,_r,ie]),sn=ml(ie,{value:xr,readOnly:As,comparisonValue:yr,focusPath:ee,openPath:Ss,collapsedPaths:wr,presence:ds,validation:z,collapsedFieldSets:Tr,fieldGroupState:Cs,changesOpen:et}),ln=v.exports.useRef(sn);ln.current=sn;const Rs=v.exports.useCallback(U=>{gl(ln.current,U).forEach(le=>{le.type==="expandPath"&&Cr(nt=>Ue(nt,le.path,!1)),le.type==="expandFieldSet"&&Er(nt=>Ue(nt,le.path,!1)),le.type==="setSelectedGroup"&&Sr(nt=>Ue(nt,le.path,le.groupName))}),ws(U)},[ln]),Ds={actions:se,activeViewId:Ne,badges:Se,changesOpen:et,collapsedFieldSets:Tr,collapsedPaths:wr,compareValue:yr,connectionState:Z,displayed:xr,documentId:T,documentIdRaw:w,documentType:E,editState:K,focusPath:ee,menuItems:Qt,onBlur:vs,onChange:ms,onFocus:hs,onPathOpen:Rs,onHistoryClose:gs,onHistoryOpen:nn,onInspectClose:Ps,onKeyUp:xs,onMenuAction:rn,onPaneClose:ys,onPaneSplit:bs,onSetActiveFieldGroup:Is,onSetCollapsedPath:Ts,onSetCollapsedFieldSet:Es,historyController:we,index:n,inspectOpen:en,validation:z,menuItemGroups:b||[],paneKey:o,previewUrl:ze,ready:tn,schemaType:ie,isPermissionsLoading:an,permissions:tt,setTimelineMode:us,setTimelineRange:ps,timeline:Oe,timelineMode:cs,title:y,value:X,views:V,formState:sn,unstable_languageFilter:ne};return v.exports.useEffect(()=>{Z==="reconnecting"&&g({id:"sanity/desk/reconnecting",status:"warning",title:d($,{children:"Connection lost. Reconnecting\u2026"})})},[Z,g]),v.exports.useEffect(()=>{ce(A.path?pt(A.path):[])},[T,A.path]),d(yl.Provider,{value:Ds,children:t})});es.displayName="DocumentPaneProvider";const gh={create:"created",delete:"deleted",discardDraft:"discarded draft",initial:"created",editDraft:"edited",editLive:"live edited",publish:"published",unpublish:"unpublished"},yh={create:kr,delete:Hc,discardDraft:ht,initial:kr,editDraft:jr,editLive:jr,publish:Ui,unpublish:Gc};function Nn(e){return gh[e]}function bh(e){return yh[e]}function xh(e,t){return{topSelection:t,bottomSelection:e,disabledBeforeSelection:!0}}function Ph(e){return{topSelection:e,bottomSelection:e}}function Sh(e){let{maxLength:t,userIds:n}=e;return d(Ki,{maxLength:t,children:n.map(r=>d(Xi,{user:r,withTooltip:!0},r))})}const We=Y(W)(e=>{let{theme:t}=e;var n;const r=(n=t.sanity.color.base.skeleton)==null?void 0:n.from;return _e(jo||(jo=H([`
    --timeline-hairline-width: 1px;
    position: relative;
    z-index: 2;
    margin: 0;
    padding: 0;

    &::before {
      position: absolute;
      content: '';
      height: 100%;
      width: var(--timeline-hairline-width);
      background: `,`;
      top: 0;
      left: calc((100% - var(--timeline-hairline-width)) / 2);
      z-index: 1;
    }
  `])),r)}),wh=Y(Ai)(e=>{let{state:t="enabled",isHovered:n,theme:r}=e;const{color:o}=r.sanity,s=o.button.default.primary.enabled;return _e(Bo||(Bo=H([`
    position: relative;
    min-width: 244px;

    `,`

    `,`

      `,`

    // line styling \u{1F447}
      &:first-child `,`::before {
      height: 50%;
      top: unset;
      bottom: 0;
    }

    &:last-child `,`::before {
      height: 50%;
    }

    `,`

    // Remove timeline lines when using the keyboard to navigate timeline items
    &:focus `,`::before {
      background: transparent;
    }
  `])),t==="selected"&&_e(Fo||(Fo=H([`
      --card-bg-color: `,`;
      --card-fg-color: `,`;
      --card-muted-fg-color: `,`;
      --card-border-color: `,`;
      &:not([data-selection-bottom='true']) {
        border-top-left-radius: 0;
        border-top-right-radius: 0;
      }
    `])),s.bg,s.fg,s.muted,s.bg),t==="withinSelection"&&_e(No||(No=H([`
      border-bottom-left-radius: 0;
      border-bottom-right-radius: 0;
      box-shadow: 0px 3px 0px 0px var(--card-bg-color);
      &:not([data-selection-top='true']) {
        border-radius: 0;
      }

      `,` {
        &::before {
          background: var(--card-hairline-soft-color);
        }
      }
    `])),We),t==="disabled"&&_e(zo||(zo=H([`
      [data-ui='Avatar'] {
        opacity: 0.2;
      }
    `]))),We,We,(n||t==="selected")&&_e(Uo||(Uo=H([`
      `,`::before {
        background: transparent;
      }
    `])),We),We)}),Ch=Y(j)(Wo||(Wo=H([`
  background: var(--card-bg-color);
  border-radius: 50px;
  position: relative;
  z-index: 2;
`]))),Th=Y(F)(Ho||(Ho=H([`
  text-transform: capitalize;
`]))),Eh={initial:"primary",create:"primary",publish:"positive",editLive:"caution",editDraft:"caution",unpublish:"critical",discardDraft:"critical",delete:"critical",withinSelection:"primary"};function Ih(e){const{isSelectionBottom:t,isSelectionTop:n,state:r,onSelect:o,timestamp:s,chunk:a,type:i}=e,l=bh(i),c=Array.from(a.authors),u=Ve(s,{minimal:!0}),f=r==="selected",p=r==="withinSelection",[h,m]=v.exports.useState(!1),g=v.exports.useCallback(x=>{x.preventDefault(),x.stopPropagation(),o(a)},[o,a]);return d(wh,{"data-ui":"timelineItem",radius:2,"data-chunk-id":a.id,paddingY:0,paddingX:2,tone:h||f||p?"default":Eh[i],pressed:p,state:r,selected:f,isHovered:h,disabled:r==="disabled","data-selection-bottom":t,"data-selection-top":n,onClick:g,children:d("div",{onMouseEnter:()=>m(!0),onMouseLeave:()=>m(!1),children:D(W,{align:"stretch",children:[d(We,{align:"center",children:d(Ch,{padding:2,children:d(F,{size:2,children:l&&v.exports.createElement(l)})})}),D(ve,{space:2,margin:2,children:[d(j,{children:d(Th,{size:1,weight:"medium",children:Nn(i)||d("code",{children:i})})}),d(F,{size:0,muted:!0,children:u})]}),d(W,{flex:1,justify:"flex-end",align:"center",children:d(Sh,{maxLength:3,userIds:c})})]})})})}const _h=Y(j)(Go||(Go=H([`
  overflow: auto;
  -webkit-overflow-scrolling: touch;
`]))),Vh=Y(ve)(Ko||(Ko=H([`
  max-width: 200px;
`]))),Ah=Y(Gn)(Xo||(Xo=H([`
  overflow: auto;
  box-sizing: border-box;
  max-height: calc(100vh - 198px);
`]))),Rh=20,zn=e=>{let{timeline:t,disabledBeforeSelection:n,topSelection:r,bottomSelection:o,onSelect:s,onLoadMore:a}=e;const i=v.exports.useRef(null),l=v.exports.useRef(null),[c,u]=v.exports.useState(null);let f=n?"disabled":"enabled";const p=v.exports.useCallback(()=>{const h=i.current;if(c&&h){const{offsetHeight:m,scrollTop:g}=h,x=m+g+Rh,b=c.offsetTop<x;b&&requestAnimationFrame(()=>a(b))}},[a,c]);return v.exports.useEffect(p,[p]),D(_h,{ref:i,onScroll:p,"data-ui":"timeline",children:[t.chunkCount===0&&D(Vh,{padding:3,space:3,children:[d(F,{size:1,weight:"semibold",children:"No document history"}),d(F,{muted:!0,size:1,children:"When changing the content of the document, the document versions will appear in this menu."})]}),t.chunkCount>0&&d(Ah,{ref:l,padding:1,space:0,children:t.mapChunks(h=>{const m=r===h,g=o===h;m&&(f="withinSelection"),g&&(f="selected");const x=d(Ih,{chunk:h,isSelectionBottom:g,isSelectionTop:m,state:f,onSelect:s,type:h.type,timestamp:h.endTimestamp},h.id);return f==="selected"&&(f="enabled"),x})}),!t.reachedEarliestEntry&&d(W,{align:"center",justify:"center",padding:4,ref:u,children:d(Je,{muted:!0})})]})};zn.displayName="Timeline";const Dh=Y(Kn)(Yo||(Yo=H([`
  & > div {
    display: flex;
    flex-direction: column;

    & > [data-ui='Card'] {
      flex: 1;
      min-height: 0;
      display: flex;
      flex-direction: column;

      /* This is the scrollable container rendered by <Timeline /> */
      & > div {
        flex: 1;
        min-height: 0;
      }
    }
  }
`])));function ts(e){let{chunk:t,mode:n,placement:r}=e;const{historyController:o,setTimelineRange:s,setTimelineMode:a,timeline:i,ready:l}=Q(),[c,u]=v.exports.useState(!1),[f,p]=v.exports.useState(null),[h,m]=v.exports.useState(null),g=v.exports.useCallback(()=>{a(n),u(!0)},[n,a]),x=v.exports.useCallback(()=>{a("closed"),u(!1)},[a]),b=v.exports.useCallback(()=>{x()},[x]);$n(b,[h,f]);const y=v.exports.useCallback(O=>{const[B,k]=o.findRangeForNewRev(O);a("closed"),u(!1),s(B,k)},[o,a,s]),P=v.exports.useCallback(O=>{const[B,k]=o.findRangeForNewSince(O);a("closed"),u(!1),s(B,k)},[o,a,s]),S=v.exports.useCallback(O=>{o.setLoadMore(O)},[o]),w=c&&d("div",{ref:m,children:n==="rev"?d(zn,I({onSelect:y,onLoadMore:S,timeline:i},Ph(o.realRevChunk))):d(zn,I({onSelect:P,onLoadMore:S,timeline:i},xh(o.sinceTime,o.realRevChunk)))}),T=Ve((t==null?void 0:t.endTimestamp)||"",{agoSuffix:!0}),E=t?"".concat(Wl(Nn(t.type))," ").concat(T):"Current version",_=t?"Since ".concat(Nn(t.type)," ").concat(T):"Since unknown version";return d(Dh,{constrainSize:!0,content:w,"data-ui":"versionMenu",open:c,placement:r,portal:!0,children:d(oe,{disabled:!l,mode:"bleed",fontSize:1,padding:2,iconRight:Hl,onClick:c?x:g,ref:p,selected:c,text:c?n==="rev"?"Select version":"Review changes since":n==="rev"?E:_})})}function Mh(){return D(W,{align:"center",justify:"center",children:[d(Je,{muted:!0}),d(j,{marginTop:3,children:d(F,{align:"center",children:"Loading changes\u2026"})})]})}function Lh(e){const t=new Map;return Ic(e,n=>{if(n.action==="unchanged"||!("annotation"in n)||!n.annotation)return!0;const{author:r,timestamp:o}=n.annotation,s=t.get(r);return(!s||s.timestamp<o)&&t.set(r,n.annotation),!0}),Array.from(t.values()).sort((n,r)=>n.timestamp<r.timestamp?1:-1)}const Oh=Y(Ri)($o||($o=H([`
  height: 100%;
  overflow: auto;
  position: relative;
  scroll-behavior: smooth;
`])));function kh(){const{documentId:e,onHistoryClose:t,historyController:n,schemaType:r,value:o}=Q(),{collapsed:s}=hc(),a=v.exports.useRef(null),l=n.selectionState==="loading",c=n.sinceTime,u=n.currentObjectDiff(),f=!n.onOlderRevision(),p=De.useMemo(()=>({documentId:e,schemaType:r,FieldWrapper:vc,rootDiff:u,isComparingCurrent:f,value:o}),[e,u,f,r,o]),h=De.useMemo(()=>u?Lh(u):[],[u]);return s?null:D(W,{direction:"column",flex:1,style:{borderLeft:"1px dashed var(--card-border-color)",overflow:"hidden",minWidth:320},"data-testid":"review-changes-pane",children:[d(Ut,{actions:d(oe,{icon:ht,mode:"bleed",onClick:t,padding:3,title:"Hide changes panel"}),subActions:h.length>0&&d(j,{paddingRight:1,children:d(mc,{annotations:h,description:"Changes by",placement:"bottom-end",children:d(Ki,{maxLength:4,children:h.map(m=>{let{author:g}=m;return d(Xi,{user:g},g)})})})}),tabs:d(ts,{mode:"since",chunk:c,placement:"bottom-start"}),title:"Changes"}),d(yt,{children:d(qn,{element:a.current,children:d(Oh,{"data-ui":"Scroller",ref:a,children:d(j,{flex:1,padding:4,children:d(jh,{diff:u,documentContext:p,loading:l})})})})})]})}function jh(e){let{diff:t,documentContext:n,loading:r}=e;const{schemaType:o}=Q();return r?d(Mh,{}):t?d(yc.Provider,{value:n,children:d(bc,{diff:t,schemaType:o})}):d(gc,{})}function Bh(e,t,n){const r=bl(),[o,s]=v.exports.useState(n),a=v.exports.useMemo(()=>r.forNamespace("desk-tool"),[r]),i=v.exports.useMemo(()=>e?a.forNamespace(e).forKey(t):a.forKey(t),[a,e,t]);v.exports.useEffect(()=>{const c=i.listen(n).subscribe({next:s});return()=>c==null?void 0:c.unsubscribe()},[n,t,e,i]);const l=v.exports.useCallback(c=>{s(c),i.set(c)},[i]);return v.exports.useMemo(()=>[o,l],[l,o])}const He={id:"parsed",title:"Parsed"},Ge={id:"raw",title:"Raw JSON"},Fh=[He,Ge],Bt=Kc(1e3);function ns(e,t){const n=Bt.get(e);return n===void 0?(Bt.set(e,Array.isArray(t)||Le(t)),ns(e,t)):n}function Nh(e){const{path:t}=e,n=Bt.get(t);n!==void 0&&Bt.set(t,!n)}function rs(e){const t=window.getSelection();if(t){const n=document.createRange();t.removeAllRanges(),n.selectNodeContents(e),t.addRange(n)}}function pi(e){rs(e.currentTarget)}function zh(e){!(e.keyCode===65&&(e.metaKey||e.ctrlKey))||(e.preventDefault(),rs(e.currentTarget))}function Uh(e){return Le(e)&&Or(e._id)&&Or(e._type)}const Wh=Y.div(e=>{let{theme:t}=e;const{color:n,fonts:r,space:o}=t.sanity;return _e(Zo||(Zo=H([`
    & .json-inspector,
    & .json-inspector .json-inspector__selection {
      font-family: `,`;
      font-size: `,`px;
      line-height: `,`px;
      color: var(--card-code-fg-color);
    }

    & .json-inspector .json-inspector__leaf {
      padding-left: `,`;
    }

    & .json-inspector .json-inspector__leaf.json-inspector__leaf_root {
      padding-top: `,`;
      padding-left: 0;
    }

    & .json-inspector > .json-inspector__leaf_root > .json-inspector__line > .json-inspector__key {
      display: none;
    }

    & .json-inspector .json-inspector__line {
      display: block;
      position: relative;
      cursor: default;
    }

    & .json-inspector .json-inspector__line::after {
      content: '';
      position: absolute;
      top: 0;
      left: -200px;
      right: -50px;
      bottom: 0;
      z-index: -1;
      pointer-events: none;
    }

    & .json-inspector .json-inspector__line:hover::after {
      background: var(--card-code-bg-color);
    }

    & .json-inspector .json-inspector__leaf_composite > .json-inspector__line {
      cursor: pointer;
    }

    & .json-inspector .json-inspector__leaf_composite > .json-inspector__line::before {
      content: '\u25B8 ';
      margin-left: calc(0 - `,` + 3px);
      font-size: `,`px;
      line-height: `,`px;
    }

    &
      .json-inspector
      .json-inspector__leaf_expanded.json-inspector__leaf_composite
      > .json-inspector__line::before {
      content: '\u25BE ';
      font-size: `,`px;
      line-height: `,`px;
    }

    & .json-inspector .json-inspector__radio,
    & .json-inspector .json-inspector__flatpath {
      display: none;
    }

    & .json-inspector .json-inspector__value {
      margin-left: `,`;
    }

    &
      .json-inspector
      > .json-inspector__leaf_root
      > .json-inspector__line
      > .json-inspector__key
      + .json-inspector__value {
      margin: 0;
    }

    & .json-inspector .json-inspector__key {
      color: `,`;
    }

    & .json-inspector .json-inspector__value_helper,
    & .json-inspector .json-inspector__value_null {
      color: `,`;
    }

    & .json-inspector .json-inspector__not-found {
      padding-top: `,`;
    }

    & .json-inspector .json-inspector__value_string {
      color: `,`;
    }

    & .json-inspector .json-inspector__value_boolean {
      color: `,`;
    }

    & .json-inspector .json-inspector__value_number {
      color: `,`;
    }

    & .json-inspector .json-inspector__show-original {
      display: inline-block;
      padding: 0 6px;
      cursor: pointer;
    }

    & .json-inspector .json-inspector__show-original:hover {
      color: inherit;
    }

    & .json-inspector .json-inspector__show-original::before {
      content: '\u2194';
    }

    & .json-inspector .json-inspector__show-original:hover::after {
      content: ' expand';
    }
  `])),r.code.family,r.code.sizes[2].fontSize,r.code.sizes[2].lineHeight,rt(o[4]),rt(o[3]),rt(o[4]),r.code.sizes[2].fontSize,r.code.sizes[2].lineHeight,r.code.sizes[2].fontSize,r.code.sizes[2].lineHeight,rt(o[4]/2),n.syntax.property,n.syntax.constant,rt(o[3]),n.syntax.string,n.syntax.boolean,n.syntax.number)});function Hh(e){const{onChange:t,query:n}=e,r=v.exports.useCallback(o=>t(o.target.value),[t]);return d(Uc,{icon:Wc,onChange:r,placeholder:"Search",radius:2,value:n||""})}function Gh(e){const{value:t}=e,{onInspectClose:n,paneKey:r}=Q(),o="".concat(r,"_inspect_"),[s,a]=Bh("desk-tool","inspect-view-preferred-view-mode-".concat(r),"parsed"),i=Fh.find(u=>u.id===s),l=v.exports.useCallback(()=>{a(He.id)},[a]),c=v.exports.useCallback(()=>{a(Ge.id)},[a]);return d(Jn,{id:"".concat(o,"dialog"),header:Uh(t)?D($,{children:["Inspecting"," ",d("em",{children:d(_c,{document:t})})]}):d("em",{children:"No value"}),onClose:n,width:3,children:D(W,{direction:"column",height:"fill",children:[d(be,{padding:3,shadow:1,style:{position:"sticky",bottom:0,zIndex:3},children:D(Fi,{space:1,children:[d(In,{"aria-controls":"".concat(o,"tabpanel"),fontSize:1,id:"".concat(o,"tab-").concat(He.id),label:He.title,onClick:l,selected:i===He}),d(In,{"aria-controls":"".concat(o,"tabpanel"),fontSize:1,id:"".concat(o,"tab-").concat(Ge.id),label:Ge.title,onClick:c,selected:i===Ge})]})}),D(Vc,{"aria-labelledby":"".concat(o,"tab-").concat(s),flex:1,id:"".concat(o,"tabpanel"),overflow:"auto",padding:4,style:{outline:"none"},children:[i===He&&d(Wh,{children:d(Xc,{data:t,isExpanded:ns,onClick:Nh,search:Hh})}),i===Ge&&d(_n,{language:"json",tabIndex:0,onKeyDown:zh,onDoubleClick:pi,onFocus:pi,children:JSON.stringify(t,null,2)})]})]})})}const Kh=Y(be)(qo||(qo=H([`
  position: relative;
  z-index: 50;
`]))),hi=Y(F)(Jo||(Jo=H([`
  & > * {
    overflow: hidden;
    white-space: nowrap;
    text-overflow: ellipsis;
  }
`]))),os=v.exports.memo(()=>{var e,t,n,r,o,s;const a=xl(),{params:i,groupIndex:l,routerPanesState:c,replaceCurrent:u,BackLink:f}=bt(),p=(e=c[l])==null?void 0:e[0].id,h=c[l-1],m=h==null?void 0:h[0],g=m==null?void 0:m.id,x=Boolean((t=m==null?void 0:m.params)==null?void 0:t.rev),b=v.exports.useMemo(()=>(i==null?void 0:i.parentRefPath)&&pt(i.parentRefPath)||null,[i==null?void 0:i.parentRefPath]),y=Vi(()=>{const w=b==null?void 0:b[0];if(!g||!w||!b)return Re({loading:!1});const T=Tn(g),E=pt(w),_=E.findIndex(R=>typeof R=="object"&&"_key"in R);return Bi(Re({loading:!0}),a.unstable_observePathsDocumentPair(T,_===-1?E:E.slice(0,_)).pipe(ki(750),Be(R=>{let{draft:M,published:O}=R;var B;return{loading:!1,result:{availability:{draft:M.availability,published:O.availability},refValue:(B=Gl(M.snapshot||O.snapshot,b))==null?void 0:B._ref}}})))},[g,b],{loading:!0}),P=v.exports.useCallback(()=>{var w;y.loading||(w=y.result)!=null&&w.refValue&&u({id:y.result.refValue,params:i})},[y.loading,y.result,u,i]);return!g||!b||x||y.loading||!((n=y.result)!=null&&n.availability.draft.available)&&!((r=y.result)!=null&&r.availability.published.available)||((o=y.result)==null?void 0:o.refValue)===p?null:d(Kh,{shadow:1,tone:"caution","data-testid":"reference-changed-banner",children:d(xt,{paddingX:4,paddingY:2,sizing:"border",width:1,children:D(W,{align:"center",children:[d(F,{size:1,children:d(Xn,{})}),(s=y.result)!=null&&s.refValue?D($,{children:[d(j,{flex:1,marginLeft:3,children:d(hi,{title:"This reference has changed since you opened it.",size:1,children:"This reference has changed since you opened it."})}),d(j,{marginLeft:3,children:d(oe,{onClick:P,icon:Di,fontSize:1,mode:"ghost",padding:2,space:2,text:"Reload reference"})})]}):D($,{children:[d(j,{flex:1,marginLeft:3,children:d(hi,{title:"This reference has been removed since you opened it.",size:1,children:"This reference has been removed since you opened it."})}),d(j,{marginLeft:3,children:d(oe,{as:f,icon:ht,fontSize:1,mode:"ghost",padding:2,space:2,text:"Close reference"})})]})]})})})});os.displayName="ReferenceChangedBanner";const Xh=Y(be)(Qo||(Qo=H([`
  position: relative;
  z-index: 50;
`])));function Yh(e){let{granted:t,requiredPermission:n}=e;var r,o;const s=Ac(),a=((r=s==null?void 0:s.roles)==null?void 0:r.length)!==1,i=$h(((o=s==null?void 0:s.roles)==null?void 0:o.map(l=>d("code",{children:l.title},l.name)))||[],", ");return t?null:d(Xh,{"data-testid":"permission-check-banner",shadow:1,tone:"transparent",children:d(xt,{paddingX:4,paddingY:3,sizing:"border",width:1,children:D(W,{align:"flex-start",children:[d(F,{size:1,children:d(Rc,{})}),d(j,{flex:1,marginLeft:3,children:D(F,{size:1,children:["Your role",a&&"s"," ",i," ",a?"do":"does"," not have permissions to"," ",n," this document."]})})]})})})}function $h(e,t){return e.reduce((n,r)=>n===null?[r]:n.concat([t,r]),null)}function Zh(e){const t=v.exports.useRef();return v.exports.useEffect(()=>{t.current=e},[e]),t.current}const qh=1e3*60*60*24*24;function Jh(e){const t=Nt(),n=Zh(e.enabled);v.exports.useEffect(()=>{!n&&e.enabled&&t.push(I(I({},e),{},{duration:qh})),n&&!e.enabled&&t.push(I(I({},e),{},{duration:.01}))},[e,t,n])}const Qh=e=>e.preventDefault();function ev(e){var t;const{hidden:n,margins:r}=e,{collapsedFieldSets:o,collapsedPaths:s,displayed:a,editState:i,documentId:l,documentType:c,onChange:u,validation:f,ready:p,formState:h,onFocus:m,onBlur:g,onSetCollapsedPath:x,onPathOpen:b,onSetCollapsedFieldSet:y,onSetActiveFieldGroup:P}=Q(),S=Hi(),w=Dc(l),T=v.exports.useMemo(()=>Mc(),[]),E=(t=i==null?void 0:i.transactionSyncLock)==null?void 0:t.enabled;Jh({id:"sync-lock-".concat(l),status:"warning",enabled:E,title:"Syncing document\u2026",description:"Please hold tight while the document is synced. This usually happens right after the document has been published, and it shouldn't take more than a few seconds"}),v.exports.useEffect(()=>{const R=S.pair.documentEvents(l,c).pipe(Lc(M=>{M.type==="mutation"&&T.publish(tv(M)),M.type==="rebase"&&T.publish(nv(M))})).subscribe();return()=>{R.unsubscribe()}},[l,S,c,T]);const _=Boolean(a==null?void 0:a._rev);return v.exports.useEffect(()=>{_&&T.publish({type:"mutation",patches:[],snapshot:a})},[_]),d(xt,{hidden:n,paddingX:4,paddingTop:5,paddingBottom:9,sizing:"border",width:1,children:d(Oc,{margins:r,children:d(j,{as:"form",onSubmit:Qh,children:p?h===null?d(j,{padding:2,children:d(F,{children:"This form is hidden"})}):d(kc,{__internal_patchChannel:T,collapsedFieldSets:o,collapsedPaths:s,focusPath:h.focusPath,changed:h.changed,focused:h.focused,groups:h.groups,id:"root",members:h.members,onChange:u,onFieldGroupSelect:P,onPathBlur:g,onPathFocus:m,onPathOpen:b,onSetFieldSetCollapsed:y,onSetPathCollapsed:x,presence:w,readOnly:h.readOnly,schemaType:h.schemaType,validation:f,value:h.value}):d(hr,{ms:300,children:D(W,{align:"center",direction:"column",height:"fill",justify:"center",children:[d(Je,{muted:!0}),d(j,{marginTop:3,children:d(F,{align:"center",muted:!0,size:1,children:"Loading document"})})]})})})})})}function tv(e){const t=e.mutations.map(n=>n.patch).filter(Boolean);return{type:"mutation",snapshot:e.document,patches:An(e.origin,t)}}function nv(e){const t=e.remoteMutations.map(r=>r.patch).filter(Boolean),n=e.localMutations.map(r=>r.patch).filter(Boolean);return{type:"rebase",snapshot:e.document,patches:An("remote",t).concat(An("local",n))}}function rv(){const{activeViewId:e,paneKey:t,views:n}=Q(),r="".concat(t,"tabpanel");return d(Fi,{space:1,children:n.map((o,s)=>{var a;return d(ov,{icon:o.icon,id:"".concat(t,"tab-").concat(o.id),isActive:e===o.id,label:d($,{children:o.title}),tabPanelId:r,viewId:s===0?null:(a=o.id)!=null?a:null},o.id)})})}function ov(e){const{icon:t,id:n,isActive:r,label:o,tabPanelId:s,viewId:a}=e,{ready:i}=Q(),{setView:l}=bt(),c=v.exports.useCallback(()=>l(a),[l,a]);return d(In,{"aria-controls":s,disabled:!i,fontSize:1,icon:t,id:n,selected:r,label:o,onClick:c})}const xn={error:{tone:"critical",icon:xc},warning:{tone:"caution",icon:Xn},info:{tone:"primary",icon:Pc}};function iv(e){const{boundaryElement:t,isOpen:n,setOpen:r}=e,{onFocus:o,onPathOpen:s,schemaType:a,validation:i}=Q(),l=v.exports.useId(),c=i.length>0,u=i.some(Kl),f=i.some(Xl),p=i.some(Yl),h=v.exports.useMemo(()=>{if(u)return xn.error;if(f)return xn.warning;if(p)return xn.info},[u,p,f]),m=v.exports.useCallback(()=>r(!1),[r]);return c?d(Ni,{id:l||"",button:d(oe,I(I({},h),{},{title:"Show validation issues",mode:"bleed","data-testid":"validation-list-button"})),menu:d(Gn,{open:n,children:d($l,{documentType:a,validation:i,onClose:m,onFocus:s})}),popover:{portal:!0,boundaryElement:t,constrainSize:!0,preventOverflow:!0,width:0},placement:"bottom"}):null}function av(){const{connectionState:e,schemaType:t,title:n,value:r}=Q(),o=Boolean(r)&&e==="connected",{error:s,value:a}=Zl({enabled:o,schemaType:t,value:r});return e!=="connected"?d($,{}):r?o?s?D($,{children:["Error: ",s.message]}):d($,{children:(a==null?void 0:a.title)||d("span",{style:{color:"var(--card-muted-fg-color)"},children:"Untitled"})}):d($,{children:n}):D($,{children:["New ",(t==null?void 0:t.title)||(t==null?void 0:t.name)]})}const sv=e=>Boolean(e.showAsAction),lv=Pl(sv),is=v.exports.memo(v.exports.forwardRef((e,t)=>{let{rootElement:n}=e;const{onMenuAction:r,onPaneClose:o,onPaneSplit:s,historyController:a,validation:i,menuItems:l,menuItemGroups:c,schemaType:u,ready:f,views:p,unstable_languageFilter:h}=Q(),{revTime:m}=a,{features:g}=Fe(),{index:x,BackLink:b,hasGroupSiblings:y}=bt(),P=v.exports.useMemo(()=>l.filter(lv),[l]),[S,w]=De.useState(!1),T=p.length>1,E=g.reviewChanges,_=g.splitViews&&s&&p.length>1,R=_&&y,M=!R&&!g.backButton;return d(Ut,{ref:t,loading:!f,title:d(av,{}),tabs:T&&d(rv,{}),backButton:g.backButton&&x>0&&d(oe,{as:b,"data-as":"a",icon:Sl,mode:"bleed"}),subActions:E&&d(ts,{chunk:m,mode:"rev",placement:"bottom-end"}),actions:D(Mi,{space:1,children:[h.length>0&&d($,{children:h.map((O,B)=>v.exports.createElement(O,{key:"language-filter-".concat(B),schemaType:u}))}),i.length>0&&d(iv,{boundaryElement:n,isOpen:S,setOpen:w},"validation-menu"),d(wl,{itemGroups:c,items:P,onAction:r},"context-menu"),_&&d(oe,{icon:Cl,mode:"bleed",onClick:s,title:"Split pane right"},"split-pane-button"),R&&d(oe,{icon:ht,mode:"bleed",onClick:o,title:"Close split pane"},"close-view-button"),M&&d(oe,{icon:ht,mode:"bleed",title:"Close pane group",as:b},"close-view-button")]})})}));is.displayName="DocumentPanelHeader";const cv=Y(Ri)(e=>{let{$disabled:t}=e;return t?{height:"100%"}:_e(ei||(ei=H([`
    height: 100%;
    overflow: auto;
    position: relative;
    scroll-behavior: smooth;
    outline: none;
  `])))}),uv=function(t){const{footerHeight:n,isInspectOpen:r,rootElement:o,setDocumentPanelPortalElement:s}=t,{activeViewId:a,displayed:i,documentId:l,editState:c,value:u,views:f,ready:p,schemaType:h,permissions:m,isPermissionsLoading:g}=Q(),{collapsed:x}=Wi(),b=Sc(),{features:y}=Fe(),[P,S]=v.exports.useState(null),w=Wt(P),T=v.exports.useRef(null),[E,_]=v.exports.useState(null),R=u._createdAt?"update":"create",M=v.exports.useMemo(()=>f.find(te=>te.id===a)||f[0]||{type:"form"},[a,f]),O=y.splitPanes&&T.current||b.element,B=v.exports.useMemo(()=>x?[(w==null?void 0:w.height)||0,0,n?n+2:2,0]:[0,0,2,0],[x,n,w]),k=M.type!=="form",N=v.exports.useMemo(()=>M.type==="component"&&M.component&&v.exports.createElement(M.component,{document:{draft:(c==null?void 0:c.draft)||null,displayed:i||u,historical:i,published:(c==null?void 0:c.published)||null},documentId:l,options:M.options,schemaType:h}),[M,i,l,c==null?void 0:c.draft,c==null?void 0:c.published,h,u]);v.exports.useEffect(()=>{!(E!=null&&E.scrollTo)||E.scrollTo(0,0)},[l,E]),v.exports.useEffect(()=>{O&&s(O)},[O,s]);const K=v.exports.useMemo(()=>r?d(Gh,{value:i||u}):null,[r,i,u]);return D(W,{direction:"column",flex:2,overflow:x?void 0:"hidden",children:[d(is,{rootElement:o,ref:S}),d(yt,{children:d(Yn,{element:O,__unstable_elements:{documentScrollElement:E},children:D(qn,{element:E,children:[M.type==="form"&&!g&&p&&D($,{children:[d(Yh,{granted:Boolean(m==null?void 0:m.granted),requiredPermission:R}),d(os,{})]}),D(cv,{$disabled:x||!1,"data-testid":"document-panel-scroller",ref:_,children:[d(ev,{hidden:k,margins:B},l+(p?"_ready":"_pending")),N]}),K,d("div",{"data-testid":"document-panel-portal",ref:T})]})})})]})},as=["left","bottom"],dv={small:0,medium:1,large:2,full:"auto"};function fv(e){const{dialog:t,referenceElement:n}=e;return d(Kn,{content:d(pv,{dialog:t}),fallbackPlacements:as,open:!0,placement:"top",portal:!0,preventOverflow:!0,referenceElement:n})}function pv(e){const{dialog:t}=e,{cancelButtonIcon:n,cancelButtonText:r,confirmButtonIcon:o,confirmButtonText:s,message:a,onCancel:i,onConfirm:l,tone:c}=t,{isTopLayer:u}=Yi(),[f,p]=v.exports.useState(null),h=v.exports.useCallback(()=>{u&&i()},[u,i]),m=v.exports.useCallback(g=>{g.key==="Escape"&&u&&i()},[u,i]);return $n(h,[f]),$i(m),D(W,{direction:"column",ref:p,style:{minWidth:320-16,maxWidth:400},children:[d(j,{flex:1,overflow:"auto",padding:4,children:d(F,{children:a})}),d(j,{paddingX:4,paddingY:3,style:{borderTop:"1px solid var(--card-border-color)"},children:D(jc,{columns:2,gap:2,children:[d(oe,{icon:n,onClick:i,mode:"ghost",text:r||"Cancel"}),d(oe,{icon:o,onClick:l,text:s||"Confirm",tone:c})]})})]})}function hv(e){const{dialog:t}=e,n=v.exports.useId(),r=t.footer&&d(j,{paddingX:4,paddingY:3,children:t.footer});return d(Zn,{zOffset:"fullscreen",children:d(Jn,{__unstable_hideCloseButton:t.showCloseButton===!1,footer:r,header:t.header,id:n,onClose:t.onClose,onClickOutside:t.onClose,width:t.width===void 0?1:dv[t.width],portal:"documentPanelPortalElement",children:d(j,{padding:4,children:t.content})})})}function vv(e){const{dialog:t,referenceElement:n}=e;return d(Kn,{content:d(mv,{dialog:t}),fallbackPlacements:as,open:!0,placement:"top",portal:!0,preventOverflow:!0,referenceElement:n})}function mv(e){const{dialog:t}=e,{content:n,onClose:r}=t,{isTopLayer:o}=Yi(),[s,a]=v.exports.useState(null),i=v.exports.useCallback(()=>{o&&r()},[o,r]),l=v.exports.useCallback(c=>{c.key==="Escape"&&o&&r()},[o,r]);return $n(i,[s]),$i(l),d("div",{ref:a,children:n})}function mr(e){const{dialog:t,referenceElement:n=null}=e,r=v.exports.useId();if(t.type==="confirm")return d(fv,{dialog:t,referenceElement:n});if(t.type==="popover")return d(vv,{dialog:t,referenceElement:n});if(t.type==="dialog"||!t.type)return d(hv,{dialog:t});const o=t;return console.warn("Unsupported modal type ".concat(o.type)),d(Jn,{id:r,onClose:o.onClose,onClickOutside:o.onClose,width:2,children:d(j,{padding:4,children:o.content||D($,{children:["Unexpected modal type (",d("code",{children:o.type}),")"]})})})}function gv(e){const{actionStates:t,disabled:n}=e,r=v.exports.useId(),o=v.exports.useRef(null),[s,a]=v.exports.useState(-1),[i,l]=v.exports.useState(null),c=v.exports.useCallback(p=>{a(p)},[]),u=v.exports.useMemo(()=>({placement:"top-end",portal:!0,preventOverflow:!0}),[]),f=t[s];return D($,{children:[d(Ni,{id:"".concat(r,"-action-menu"),button:d(oe,{"data-testid":"action-menu-button","aria-label":"Open document actions",disabled:n,icon:wc,mode:"ghost",ref:o}),menu:d(Gn,{padding:1,children:t.map((p,h)=>d(yv,{actionState:p,disabled:n,index:h,onAction:c},h))}),popover:u,ref:l}),f&&f.dialog&&d(Zn,{zOffset:"paneFooter",children:d(mr,{dialog:f.dialog,referenceElement:i})})]})}function yv(e){const{actionState:t,disabled:n,index:r,onAction:o}=e,{onHandle:s}=t,a=v.exports.useCallback(()=>{o(r),s&&s()},[r,o,s]),i=t.title&&d(j,{padding:2,children:d(F,{size:1,children:t.title})});return d(Ai,{"data-testid":"action-".concat(t.label.replace(" ","")),disabled:n||Boolean(t.disabled),onClick:a,padding:0,tone:t.tone,children:d(Pt,{content:i,disabled:!i,fallbackPlacements:["left","bottom"],placement:"top",portal:!0,children:D(W,{align:"center",paddingX:3,children:[D(W,{flex:1,paddingY:3,children:[t.icon&&d(j,{marginRight:3,children:D(F,{children:[v.exports.isValidElement(t.icon)&&t.icon,Cc.exports.isValidElementType(t.icon)&&v.exports.createElement(t.icon)]})}),d(F,{children:t.label})]}),t.shortcut&&d(j,{marginLeft:3,children:d(zi,{keys:String(t.shortcut).split("+").map(l=>l.slice(0,1).toUpperCase()+l.slice(1))})})]})})})}function ss(e){const{disabled:t,showMenu:n,states:r}=e,[o,...s]=r,[a,i]=v.exports.useState(null),l=v.exports.useMemo(()=>!o||!o.title&&!o.shortcut?null:D(W,{padding:2,style:{maxWidth:300},align:"center",children:[d(F,{size:1,children:o.title}),o.shortcut&&d(j,{marginLeft:o.title?2:0,children:d(zi,{keys:String(o.shortcut).split("+").map(c=>c.slice(0,1).toUpperCase()+c.slice(1).toLowerCase())})})]}),[o]);return D(W,{children:[o&&d(ql,{zOffset:200,children:d(Pt,{disabled:!l,content:l,portal:!0,placement:"top",children:d(ve,{flex:1,children:d(oe,{"data-testid":"action-".concat(o.label),disabled:t||Boolean(o.disabled),icon:o.icon,onClick:o.onHandle,ref:i,text:o.label,tone:o.tone||"primary"})})})}),n&&s.length>0&&d(j,{marginLeft:1,children:d(gv,{actionStates:s,disabled:t})}),o&&o.dialog&&d(mr,{dialog:o.dialog,referenceElement:a})]})}const bv=v.exports.memo(function(){const{actions:t,connectionState:n,editState:r}=Q();return!t||!r?null:d(vr,{actions:t,actionProps:r,children:o=>{let{states:s}=o;return d(ss,{disabled:n!=="connected",showMenu:t.length>1,states:s})}})}),xv=v.exports.memo(function(){var t;const{connectionState:n,editState:r,historyController:o}=Q(),s=((t=o.revTime)==null?void 0:t.id)||"",a=((r==null?void 0:r.draft)||(r==null?void 0:r.published)||{})._rev===s,i=v.exports.useMemo(()=>I(I({},r||{}),{},{revision:s}),[r,s]),l=v.exports.useMemo(()=>[Tl],[]);return d(vr,{actions:l,actionProps:i,children:c=>{let{states:u}=c;return d(ss,{disabled:n!=="connected"||Boolean(a),showMenu:!1,states:u})}})}),Pv={primary:"primary",success:"positive",warning:"caution",danger:"critical"};function Sv(e){let{states:t}=e;return d(Mi,{space:1,children:t.map((n,r)=>d(Pt,{content:n.title&&d(j,{padding:2,children:d(F,{size:1,children:n.title})}),disabled:!n.title,placement:"top",portal:!0,children:d(Tc,{fontSize:1,mode:"outline",paddingX:2,paddingY:1,radius:4,tone:n.color?Pv[n.color]:void 0,style:{whiteSpace:"nowrap"},children:n.label})},String(r)))})}function wv(){const{badges:e,editState:t}=Q();return!t||!e?null:d(Vp,{badges:e,badgeProps:t,children:n=>{let{states:r}=n;return d(Sv,{states:r})}})}const Cv=Y(W)(ti||(ti=H([`
  cursor: default;
`])));function Tv(e){const{collapsed:t,disabled:n,lastPublished:r,lastUpdated:o,liveEdit:s}=e,a=Ve(r||"",{minimal:!0,agoSuffix:!0}),i=Ve(r||"",{minimal:!0}),l=Ve(o||"",{minimal:!0,agoSuffix:!0}),c=Ve(o||"",{minimal:!0});return d(Cv,{align:"center","data-ui":"SessionLayout",sizing:"border",children:d(Pt,{placement:"top",portal:!0,content:d(ve,{padding:3,space:3,children:d(F,{size:1,muted:!0,children:s?D($,{children:["Last updated ",o?l:a]}):D($,{children:["Last published ",a]})})}),children:d(oe,{mode:"bleed",tone:s?"critical":"positive",tabIndex:-1,disabled:n,children:D(W,{align:"center",children:[d(j,{marginRight:t?0:3,children:d(F,{size:2,children:s?d(Jl,{}):d(Ui,{})})}),!t&&d(F,{size:1,weight:"medium",children:s?d($,{children:o?c:i}):i})]})})})})}const Ev=Y(Ct.path)(ni||(ni=H([`
  transform-origin: center;
`]))),Iv=e=>d(Ct.circle,I({fill:"none",r:"8",cx:"12.5",cy:"12.5",strokeWidth:"1.2"},e)),_v=e=>d(Ev,I({fill:"none",d:"M14 17.5619L11.5 20.5L14.5 23.0619M11 7.43811L13.5 4.50001L10.5 1.93811"},e)),Vv=e=>d(Ct.path,I({d:"M9.5 12.1316L11.7414 14.5L16 10"},e)),Av=e=>d(Ct.path,I({d:"M15 7L18 10M6 19L7 15L17 5L20 8L10 18L6 19Z"},e)),Rv=El(ri||(ri=H([`
  0% {
    transform: rotate(0);
  }
  100% {
    transform: rotate(360deg);
  }
`]))),Dv=Y.g(oi||(oi=H([`
  transform-origin: center;

  &[data-rotate] {
    animation: `,` 1s ease-in-out infinite;
  }
`])),Rv),Mv={syncing:{scale:1,transition:{duration:0}},saved:{scale:[1,.8,1.2,.9,1.1,.95,1.05,.99,1],transition:{duration:.5,delay:.2}},changes:{transition:{duration:0}}},Lv={syncing:{strokeDasharray:"0, 0, 23, 3, 23, 3",strokeDashoffset:10,opacity:1,transition:{duration:0}},saved:{strokeDasharray:"0, 0, 23, 0, 23, 0",strokeDashoffset:10,opacity:1,transition:{duration:.2}},changes:{strokeDasharray:"0, 60, 23, 0, 23, 0",strokeDashoffset:0,opacity:0,transition:{duration:.5}}},Ov={syncing:{opacity:1,transition:{duration:0}},saved:{opacity:0,transition:{duration:.2}},changes:{opacity:0}},kv={syncing:{pathLength:0,transition:{duration:0}},saved:{pathLength:1,transition:{delay:.4,duration:.3}},changes:{pathLength:0,transition:{duration:.2}}},jv={syncing:{pathLength:0,transition:{duration:0}},saved:{pathLength:0,transition:{duration:0}},changes:{pathLength:1,transition:{duration:.4,delay:.5}}};function Bv(e){const{status:t}=e;return t?d("svg",{width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",stroke:"currentColor",strokeWidth:"1.2","data-sanity-icon":"",children:D(Ct.g,{variants:Mv,initial:t,animate:t,children:[D(Dv,{"data-rotate":t==="changes"?void 0:"",children:[d(_v,{variants:Ov,initial:t,animate:t}),d(Iv,{variants:Lv,initial:t,animate:t})]}),d(Vv,{variants:kv,initial:t,animate:t}),d(Av,{variants:jv,initial:t,animate:t})]})}):null}const Fv=De.forwardRef(function(t,n){const{collapsed:r,status:o,lastUpdated:s}=t,a=Me(t,Cp),i=Ve(s||"",{minimal:!0}),l=Ve(s||"",{minimal:!0,agoSuffix:!0}),c=v.exports.useMemo(()=>o==="syncing"?{text:"Saving...",tone:void 0}:o==="changes"?{text:i,tone:"caution"}:o==="saved"?{text:"Saved!",tone:"positive"}:{},[o,i]);return o?d(Pt,{placement:"top",portal:!0,disabled:o!=="changes",content:D(ve,{padding:3,space:3,children:[d(F,{size:1,weight:"semibold",children:"Review changes"}),D(F,{size:1,muted:!0,children:["Changes saved ",l]})]}),children:d(oe,I(I({mode:"bleed",justify:"flex-start",tone:c==null?void 0:c.tone},a),{},{"data-testid":"review-changes-button",ref:n,children:D(W,{align:"center",children:[d(j,{marginRight:r?0:3,children:d(F,{children:d(Bv,{status:o})})}),!r&&d(F,{size:1,weight:"medium",children:c==null?void 0:c.text})]})}))}):null}),Nv=De.memo(Fv),zv=1e3,Uv=3e3,Wv=v.exports.memo(function(){var t;const{changesOpen:n,documentId:r,documentType:o,editState:s,onHistoryClose:a,onHistoryOpen:i,historyController:l,value:c}=Q(),u=Il(r,o),f=c==null?void 0:c._updatedAt,p=(t=s==null?void 0:s.published)==null?void 0:t._updatedAt,h=l.onOlderRevision(),m=Boolean(s==null?void 0:s.liveEdit),g=Boolean(s==null?void 0:s.published),x=Boolean(s==null?void 0:s.draft),[b,y]=v.exports.useState(null),P=Wt(b),S=!P||(P==null?void 0:P.width)<300,[w,T]=v.exports.useState(null);v.exports.useEffect(()=>{if(w==="syncing"){const R=setTimeout(()=>T("saved"),zv);return()=>clearTimeout(R)}if(w==="saved"){const R=setTimeout(()=>T(null),Uv);return()=>clearTimeout(R)}},[w,f]),v.exports.useLayoutEffect(()=>{T(null)},[r]),v.exports.useLayoutEffect(()=>{u.isSyncing&&T("syncing")},[u.isSyncing,f]);const E=v.exports.useMemo(()=>d(Nv,{lastUpdated:f,status:w||(x?"changes":void 0),onClick:n?a:i,disabled:h,selected:n,collapsed:S}),[x,n,a,i,f,h,w,S]),_=v.exports.useMemo(()=>(m||g)&&d(j,{marginRight:1,children:d(Tv,{disabled:h,lastPublished:p,lastUpdated:f,liveEdit:m,collapsed:S})}),[S,p,f,m,g,h]);return D(W,{align:"center","data-ui":"DocumentSparkline",ref:y,children:[_,D(W,{align:"center",flex:1,children:[E,!S&&d(j,{marginLeft:3,children:d(wv,{})})]})]})}),Hv=Y(j)(ii||(ii=H([`
  min-width: 10em;
  max-width: 16em;
`])));function Gv(e){const{actionsBoxRef:t}=e,{badges:n,historyController:r}=Q(),o=r.onOlderRevision();return v.exports.useMemo(()=>d(j,{paddingLeft:2,paddingRight:[2,3],paddingY:2,children:D(W,{align:"center",children:[d(j,{flex:[1,2],children:n&&d(Wv,{})}),d(Hv,{flex:1,marginLeft:[1,3],ref:t,children:o?d(xv,{}):d(bv,{})})]})}),[t,n,o])}function Kv(e){const{actionsBoxElement:t,activeIndex:n,children:r,id:o,onActionStart:s,onKeyDown:a,rootRef:i,states:l}=e,c=Me(e,Tp),u=l[n],f=v.exports.useCallback(p=>{const h=l.filter(g=>g.shortcut&&Hn(g.shortcut,p)),m=h[0];if(h.length>1&&console.warn('Keyboard shortcut conflict: More than one document action matches the shortcut "'.concat(m.shortcut,'"')),m&&!m.disabled&&m.onHandle){p.preventDefault(),m.onHandle(),s(l.indexOf(m));return}a&&a(p)},[s,a,l]);return D(Ft,I(I({id:o,onKeyDown:f,tabIndex:-1},c),{},{ref:i,children:[r,u&&u.dialog&&d(Zn,{zOffset:"paneFooter",children:d(mr,{dialog:u.dialog,referenceElement:t})})]}))}const ls=De.memo(e=>{const{actionsBoxElement:t,children:n}=e,r=Me(e,Ep),{actions:o,editState:s}=Q(),[a,i]=v.exports.useState(-1),l=v.exports.useCallback(u=>{i(u)},[]),c=v.exports.useMemo(()=>s&&I(I({},s),{},{onComplete:()=>{},revision:void 0}),[s]);return!c||!o?null:d(vr,{actionProps:c,actions:o,children:u=>{let{states:f}=u;return d(Kv,I(I({},r),{},{activeIndex:a,actionsBoxElement:t,onActionStart:l,states:f,children:n}))}})});ls.displayName="DocumentActionShortcuts";const vi=320,mi=600,gi=320,yi=["fixed","absolute"],Xv=Y(_l)(ai||(ai=H([`
  flex: 1;
  display: flex;
  min-height: 0;
  min-width: 0;
`]))),am=v.exports.memo(function(t){const{name:n}=zt();return d(Li,{name:t.pane.source||n,children:d(Yv,I({},t))})});function Yv(e){var t;const{pane:n,paneKey:r}=e,{resolveNewDocumentOptions:o}=zt().document,s=bt(),a=$v(n.options,s.params),{documentType:i,isLoaded:l}=Vl(a.id,a.type),c=v.exports.useMemo(()=>o({type:"global"}),[o]),[u,f]=Al({templateItems:c}),p=l&&!f,h=v.exports.useMemo(()=>p&&i&&a.type!==i?Zv(e,a,i):e,[e,i,p,a]),{ReferenceChildLink:m,handleEditReference:g,groupIndex:x,routerPanesState:b}=s,y=((t=b[x+1])==null?void 0:t[0].params)||{},P=b.length,{parentRefPath:S}=y,w=v.exports.useMemo(()=>S?{path:pt(S),state:x>=P-1?"none":x>=P-2?"selected":"pressed"}:{path:[],state:"none"},[S,x,P]);return a.type==="*"&&!p?d(Jt,{flex:2.5,minWidth:320,paneKey:r,title:"Loading document\u2026"}):i?d(es,I(I({},h),{},{children:d(Ql,{EditReferenceLinkComponent:m,onEditReference:g,initialValueTemplateItems:u,activePath:w,children:d(qv,{})})})):d(Qa,{flex:2.5,minWidth:320,paneKey:r,title:d($,{children:"The document was not found"}),children:d(ve,{space:4,children:D(F,{as:"p",children:["The document type is not defined, and a document with the ",d("code",{children:a.id})," ","identifier could not be found."]})})})}function $v(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=Ii();return v.exports.useMemo(()=>{if(e.type&&e.type!=="*")return e;const r=e.template||t.template,o=r?n.find(a=>a.id===r):void 0,s=o==null?void 0:o.schemaType;return s?I(I({},e),{},{type:s}):e},[e,t.template,n])}function Zv(e,t,n){return I(I({},e),{},{pane:I(I({},e.pane),{},{options:I(I({},t),{},{type:n})})})}function qv(){const{changesOpen:e,documentType:t,onFocus:n,onPathOpen:r,onHistoryOpen:o,onKeyUp:s,inspectOpen:a,paneKey:i,schemaType:l,value:c}=Q(),{features:u}=Fe(),{collapsed:f}=Wi(),p=ec(),[h,m]=v.exports.useState(null),[g,x]=v.exports.useState(null),[b,y]=v.exports.useState(null),[P,S]=v.exports.useState(null),w=Wt(g),T=w==null?void 0:w.height,E=v.exports.useMemo(()=>d(uv,{footerHeight:T||null,isInspectOpen:a,rootElement:h,setDocumentPanelPortalElement:S}),[T,h,a]),_=v.exports.useMemo(()=>d(Yn,{__unstable_elements:{documentPanelPortalElement:P},children:d(Dr,{position:yi,zOffset:p.portal,children:d(tc,{ref:x,children:d(Gv,{actionsBoxRef:y})})})}),[P,p.portal]),R=v.exports.useMemo(()=>!u.reviewChanges||!e?null:d(qn,{element:h,children:d(kh,{})}),[e,u.reviewChanges,h]),M=v.exports.useCallback(N=>{r(N),n(N)},[r,n]),O=v.exports.useMemo(()=>l?D($,{children:[d(Dr,{position:yi,zOffset:p.portal,children:d(W,{direction:"column",flex:1,height:f?void 0:"fill",children:D(Xv,{"data-testid":"change-connector-root",isReviewChangesOpen:e,onOpenReviewChanges:o,onSetFocus:M,children:[E,R]})})}),_,d(lh,{})]}):d(Qa,{flex:2.5,minWidth:320,paneKey:i,title:D($,{children:["Unknown document type: ",d("code",{children:t})]}),tone:"caution",children:D(ve,{space:4,children:[t&&D(F,{as:"p",children:["This document has the schema type ",d("code",{children:t}),", which is not defined as a type in the local content studio schema."]}),!t&&d(F,{as:"p",children:"This document does not exist, and no schema type was specified for it."}),_i]})}),[l,p.portal,f,e,o,M,E,R,_,i,t,c]),B=e?mi+gi:mi,k=e?vi+gi:vi;return d(ls,{actionsBoxElement:b,currentMinWidth:B,"data-testid":"document-pane",flex:2.5,id:i,minWidth:k,onKeyUp:s,rootRef:m,children:O})}function Jv(){return d(be,{height:"fill",children:d(W,{align:"center",height:"fill",justify:"center",padding:4,sizing:"border",children:d(xt,{width:0,children:d(be,{padding:4,radius:2,shadow:1,tone:"caution",children:D(W,{children:[d(j,{children:d(F,{size:1,children:d(Xn,{})})}),D(ve,{flex:1,marginLeft:3,space:3,children:[d(F,{as:"h1",size:1,weight:"bold",children:"No document types"}),d(F,{as:"p",muted:!0,size:1,children:"Please define at least one document type in your schema."}),d(F,{as:"p",muted:!0,size:1,children:d("a",{href:"https://beta.sanity.io/docs/platform/studio/config",target:"_blank",rel:"noreferrer",children:"Learn how to add a document type \u2192"})})]})]})})})})})}const Qv=Y(kp)(si||(si=H([`
  min-height: 100%;
  min-width: 320px;
`]))),em=Hn("mod+s"),tm=v.exports.memo(function(t){let{onPaneChange:n}=t;var r;const{navigate:o}=St(),{push:s}=Nt(),a=Ei(),i=Rl(),{layoutCollapsed:l,setLayoutCollapsed:c}=Fe(),{paneDataItems:u,resolvedPanes:f,routerPanes:p}=Kp(),[h,m]=v.exports.useState(null),g=v.exports.useCallback(()=>c(!0),[c]),x=v.exports.useCallback(()=>c(!1),[c]);return v.exports.useEffect(()=>{f.length&&n(f)},[n,f]),v.exports.useEffect(()=>{if(i>1||!l||!p.some(S=>S.length>1))return;const P=p.map(S=>[S[0]]);o({panes:P},{replace:!0})},[i,o,l,p]),v.exports.useEffect(()=>{const y=P=>{em(P)&&(P.preventDefault(),s({closable:!0,id:"auto-save-message",status:"info",title:"Your work is automatically saved!",duration:4e3}))};return window.addEventListener("keydown",y),()=>window.removeEventListener("keydown",y)},[s]),((r=a._original)==null?void 0:r.types.some(Dl))?D(Yn,{element:h||null,children:[d(Qv,{flex:1,height:l?void 0:"fill",minWidth:512,onCollapse:g,onExpand:x,children:u.map(y=>{let{active:P,childItemId:S,groupIndex:w,itemId:T,key:E,pane:_,index:R,params:M,path:O,payload:B,siblingIndex:k,selected:N}=y;return d(v.exports.Fragment,{children:_===En?d(Jt,{paneKey:E,path:O,selected:N}):d(oh,{active:P,groupIndex:w,index:R,pane:_,childItemId:S,itemId:T,paneKey:E,params:M,payload:B,selected:N,siblingIndex:k})},"".concat(_===En?"loading":_.type,"-").concat(R))})}),d("div",{"data-portal":"",ref:m})]}):d(Jv,{})}),nm={};function rm(e){let{tool:{options:t}}=e;const{unstable_sources:n}=nc(),[r]=n,{source:o,defaultDocumentNode:s,structure:a}=t||{},{state:i}=St(),l=v.exports.useMemo(()=>{const f=typeof i.intent=="string"?i.intent:void 0,p=Le(i.params)?i.params:nm,h=i.payload;return f?{intent:f,params:p,payload:h}:void 0},[i]);v.exports.useEffect(()=>(dn([]),()=>dn([])),[]);const[{error:c},u]=v.exports.useState({error:null});return c?d(Jp,{error:c}):d(rc,{onCatch:u,children:d(Li,{name:o||r.name,children:d(oc,{defaultDocumentNode:s,structure:a,children:l?d($p,I({},l)):d(tm,{onPaneChange:dn})})})})}var sm=Object.freeze({__proto__:null,default:rm});export{am as D,es as a,hr as b,Bh as c,sm as i,Fe as u};
